{"remainingRequest":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/babel-loader/lib/index.js!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue","mtime":1663334948628},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/babel.config.js","mtime":1661341671887},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1661152140167},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/babel-loader/lib/index.js","mtime":1661150197424},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1661152140167},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/index.js","mtime":1661152145340}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IEJhY2tncm91bmQsIENvbnRyb2xzLCBNaW5pTWFwLCBWdWVGbG93LCBpc05vZGUsIGlzRWRnZSwgTWFya2VyVHlwZSwgQ29ubmVjdGlvbk1vZGUsIHVzZVZ1ZUZsb3cgfSBmcm9tICdAYnJha3MvdnVlLWZsb3cnOwppbXBvcnQgeyBjb21wdXRlZCwgbWFya1JhdywgcmVmLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBpbml0aWFsRWxlbWVudHMgfSBmcm9tICcuLi9qcy9pbml0aWFsLWVsZW1lbnRzLmpzJzsgLy/jgqvjgrnjgr/jg6Djg47jg7zjg4njga7ov73liqAKCmltcG9ydCBNYWtlTm9kZSBmcm9tICdAL2NvbXBvbmVudHMvTWFrZU5vZGUudnVlJzsKaW1wb3J0IEJyYW5jaE5vZGUgZnJvbSAnQC9jb21wb25lbnRzL0JyYW5jaE5vZGUudnVlJzsgLy/lrZDjgrPjg7Pjg53jg7zjg43jg7Pjg4jjga7ov73liqAKCmltcG9ydCBOb2RlU2V0dGluZ3MgZnJvbSAnQC9jb21wb25lbnRzL05vZGVTZXR0aW5ncy52dWUnOwppbXBvcnQgRmFjZUltYWdlIGZyb20gJ0AvY29tcG9uZW50cy9GYWNlSW1hZ2UudnVlJzsKaW1wb3J0IE5vZGVGaWVsZCBmcm9tICdAL2NvbXBvbmVudHMvTm9kZUZpZWxkLnZ1ZSc7CmltcG9ydCBUb3BNZW51IGZyb20gJ0AvY29tcG9uZW50cy9Ub3BNZW51LnZ1ZSc7IC8v5Yid5pyf6Kit5a6aCgpleHBvcnQgZGVmYXVsdCB7CiAgX19uYW1lOiAnQWJvdXQnLAoKICBzZXR1cChfX3Byb3BzLCB7CiAgICBleHBvc2UKICB9KSB7CiAgICBleHBvc2UoKTsKICAgIGNvbnN0IHsKICAgICAgb25QYW5lUmVhZHksCiAgICAgIG9uQ29ubmVjdCwKICAgICAgb25FZGdlc0NoYW5nZSwKICAgICAgb25Ob2Rlc0NoYW5nZSwKICAgICAgYWRkRWRnZXMsCiAgICAgIGFkZE5vZGVzLAogICAgICBzZXRUcmFuc2Zvcm0sCiAgICAgIHRvT2JqZWN0LAogICAgICBwcm9qZWN0CiAgICB9ID0gdXNlVnVlRmxvdygpOwogICAgY29uc3QgZWxlbWVudHMgPSByZWYoaW5pdGlhbEVsZW1lbnRzKTsgLy9jb25zdCBlbGVtZW50czIgPSByZWFjdGl2ZShlbGVtZW50cykgcmVhY3RpdmUsCgogICAgY29uc3Qgbm9kZVR5cGVzID0gewogICAgICBjdXN0b21NYWtlOiBtYXJrUmF3KE1ha2VOb2RlKSwKICAgICAgY3VzdG9tQnJhbmNoOiBtYXJrUmF3KEJyYW5jaE5vZGUpCiAgICB9OwogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIG5vZGVMaXN0cyA9IFtdOwogICAgdmFyIGVkZ2VMaXN0cyA9IFtdOwogICAgdmFyIGVkZ2VTTnVtID0gW107IC8vc291cmNl44GL44KJ6KaL44GfZWRnZeOBrumHjeikhyBzb3VyY2U6W2lkXQoKICAgIHZhciBTa2V5cyA9IFtdOyAvL3NvdXJjZQoKICAgIHZhciBtYWtlTm9kZU51bSA9IHsKICAgICAgMDogW10sCiAgICAgIDE6IFtdLAogICAgICAyOiBbXSwKICAgICAgMzogW10sCiAgICAgIDQ6IFtdLAogICAgICA1OiBbXSwKICAgICAgNjogW10sCiAgICAgIDc6IFtdCiAgICB9OyAvL+acgOWIneOBq+S4gOW6puODjuODvOODieODu+OCqOODg+OCuOOBruODquOCueODiOOCkuW+l+OCiwoKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIHN1cnZleVNvdXJjZSgpOwogICAgICBjaGFuZ2VBbGxFZGdlc1R5cGUoKTsKICAgICAgY2hlY2tNYWtlTm9kZXMoKTsKICAgIH0pOwogICAgLyog44OO44O844OJ44Go44Ko44OD44K444Gu6Kq/5p+7ICovCgogICAgY29uc3Qgc3VydmV5U291cmNlID0gKCkgPT4gewogICAgICAvL+eZu+mMsua4iOOBv+OBruOCqOODg+OCuOOBruWHuuiHqumWouS/guOCkuaOouOCiwogICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICBpZiAoaXNOb2RlKGVsKSkgewogICAgICAgICAgbm9kZUxpc3RzLnB1c2goZWwpOyAvL+ODjuODvOODieaDheWgseOBruWPluW+lwogICAgICAgIH0KCiAgICAgICAgaWYgKGlzRWRnZShlbCkpIHsKICAgICAgICAgIGVkZ2VMaXN0cy5wdXNoKGVsKTsgLy/jgqjjg4Pjgrjmg4XloLHjga7lj5blvpcKCiAgICAgICAgICBTa2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VTTnVtKTsKICAgICAgICAgIHZhciB0ZW1wc291cmNlID0gZWwuc291cmNlOwoKICAgICAgICAgIGlmIChTa2V5cy5pbmNsdWRlcyh0ZW1wc291cmNlKSkgewogICAgICAgICAgICBlZGdlU051bVt0ZW1wc291cmNlXS5wdXNoKGVsLmlkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVkZ2VTTnVtW3RlbXBzb3VyY2VdID0gW107CiAgICAgICAgICAgIGVkZ2VTTnVtW3RlbXBzb3VyY2VdLnB1c2goZWwuaWQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIFNrZXlzID0gT2JqZWN0LmtleXMoZWRnZVNOdW0pOyAvL+acgOe1guODq+ODvOODl+WIhuOBrmtleeOBruabtOaWsAogICAgfTsKCiAgICBjb25zdCBjaGFuZ2VBbGxFZGdlc1R5cGUgPSAoKSA9PiB7CiAgICAgIGVsZW1lbnRzLnZhbHVlLmZvckVhY2goZWwgPT4gewogICAgICAgIGlmIChpc0VkZ2UoZWwpKSB7CiAgICAgICAgICAvL3NvdXJjZeOBjOWQjOOBmOOCguOBruOBjDLjgaTku6XkuIrjgYLjgovjgYsKICAgICAgICAgIHZhciB0ZW1wUyA9IGVkZ2VTTnVtW2VsLnNvdXJjZV07CgogICAgICAgICAgaWYgKHRlbXBTLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgIGVsLnR5cGUgPSAic21vb3Roc3RlcCI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbC50eXBlID0gInN0cmFpZ2h0IjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICAgIC8qIOODoeOCpOOCr+ODjuODvOODieOBruiqv+afuyAqLwoKCiAgICBjb25zdCBjaGFuZ2VNYWtlTm9kZXMgPSBub2RlRGF0YSA9PiB7CiAgICAgIGlmIChub2RlRGF0YS50eXBlID09ICJhZGQiKSB7CiAgICAgICAgbWFrZU5vZGVOdW1bbm9kZURhdGEuaW1nTnVtXS5wdXNoKG5vZGVEYXRhLmlkKTsKICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS50eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgdmFyIGxlbmd0aE51bSA9IG1ha2VOb2RlTnVtW25vZGVEYXRhLmltZ051bV07CgogICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgbGVuZ3RoTnVtLmxlbmd0aDsgbisrKSB7CiAgICAgICAgICBpZiAobGVuZ3RoTnVtW25dID09IG5vZGVEYXRhLmlkKSB7CiAgICAgICAgICAgIG1ha2VOb2RlTnVtW25vZGVEYXRhLmltZ051bV0uc3BsaWNlKG4sIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgT2JqZWN0LmtleXMobWFrZU5vZGVOdW0pLmxlbmd0aDsgbCsrKSB7CiAgICAgICAgdmFyIHRlbXBMZW5ndGhOdW0gPSBtYWtlTm9kZU51bVtsXTsKCiAgICAgICAgaWYgKHRlbXBMZW5ndGhOdW0ubGVuZ3RoID49IDEpIHsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0TWFrZU5vZGVMaXN0IiwgewogICAgICAgICAgICBpbWdOdW06IGwsCiAgICAgICAgICAgIGltZ1N0YXRlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRNYWtlTm9kZUxpc3QiLCB7CiAgICAgICAgICAgIGltZ051bTogbCwKICAgICAgICAgICAgaW1nU3RhdGU6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgY2hlY2tNYWtlTm9kZXMgPSAoKSA9PiB7CiAgICAgIGVsZW1lbnRzLnZhbHVlLmZvckVhY2goZWwgPT4gewogICAgICAgIGlmIChpc05vZGUoZWwpICYmIGVsLnR5cGUgPT0gImN1c3RvbU1ha2UiKSB7CiAgICAgICAgICBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDEgJiYgZWwuZGF0YS5pdGVtTnVtID09IDgpIHsKICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICBpbWdOdW06IDAsCiAgICAgICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gMSAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gOCAmJiBlbC5kYXRhLnR5cGVOdW0gPT0gMikgewogICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgIGltZ051bTogMSwKICAgICAgICAgICAgICBpZDogZWwuaWQsCiAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVsLmRhdGEucGFydE51bSA9PSAyICYmIGVsLmRhdGFpdGVtTnVtID09IDExKSB7CiAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgaW1nTnVtOiAyLAogICAgICAgICAgICAgIGlkOiBlbC5pZCwKICAgICAgICAgICAgICB0eXBlOiAiYWRkIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDIgJiYgMTMgPD0gZWwuZGF0YS5pdGVtTnVtICYmIGVsLmRhdGEuaXRlbU51bSA8PSAxNikgewogICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgIGltZ051bTogMywKICAgICAgICAgICAgICBpZDogZWwuaWQsCiAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVsLmRhdGEucGFydE51bSA9PSAyICYmIDE3IDw9IGVsLmRhdGEuaXRlbU51bSAmJiBlbC5kYXRhLml0ZW1OdW0gPD0gMjApIHsKICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICBpbWdOdW06IDQsCiAgICAgICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gNCAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gMjQpIHsKICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICBpbWdOdW06IDUsCiAgICAgICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gNCAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gMjUpIHsKICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICBpbWdOdW06IDYsCiAgICAgICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gMCAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gMjIpIHsKICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICBpbWdOdW06IDcsCiAgICAgICAgICAgICAgaWQ6IGVsLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgLyog6LW35YuV5pmC44Gu5oyZ5YuVICovCiAgICAvL29uUGFuZVJlYWR544Gv44CBdmlld3BhbmXjgajjg47jg7zjg4njgavooajnpLrlj6/og73jgarjg4fjgqPjg6Hjg7Pjgrfjg6fjg7PjgYzjgYLjgovloLTlkIjjgavlkbzjgbPlh7rjgZXjgozjgb7jgZkKCgogICAgb25QYW5lUmVhZHkoKHsKICAgICAgZml0VmlldwogICAgfSkgPT4gewogICAgICBmaXRWaWV3KCk7CiAgICB9KTsKCiAgICBjb25zdCBvbkxvYWQgPSBmbG93SW5zdGFuY2UgPT4gZmxvd0luc3RhbmNlLmZpdFZpZXcoKTsgLy9vbk5vZGVEcmFnU3RvcCwgb25Ob2RlRHJhZ1N0b3AoKCkgPT4gY29uc29sZS5sb2coJ2RyYWcgc3RvcCcpKQoKCiAgICBjb25zdCBvbkRyYWdPdmVyID0gZXZlbnQgPT4gewogICAgICBjb25zb2xlLmxvZyhldmVudCk7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7CiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7CiAgICAgIH0KICAgIH07IC8v5a++6LGh44Ko44OD44K444Go5ZCM44GY44OO44O844OJ44GL44KJ5Ye644Gm44GE44KL44Ko44OD44K444Gu5pys5pWwCgoKICAgIGNvbnN0IHN1cnZleVNhbWVTb3VyY2UgPSBzb3VyY2UgPT4gewogICAgICBpZiAoU2tleXMuaW5jbHVkZXMoc291cmNlKSkgewogICAgICAgIHZhciB0ZW1wMiA9IGVkZ2VTTnVtW3NvdXJjZV07CiAgICAgICAgcmV0dXJuIHRlbXAyLmxlbmd0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBjaGFuZ2VFZGdlcyA9IChlZGdlLCB0eXBlKSA9PiB7CiAgICAgIHZhciBpZCA9IGVkZ2UuaWQ7CiAgICAgIHZhciBzb3VyY2UgPSBlZGdlLnNvdXJjZTsKCiAgICAgIGlmICh0eXBlID09ICJhZGQiKSB7CiAgICAgICAgZWRnZUxpc3RzLnB1c2goZWRnZSk7CgogICAgICAgIGlmIChTa2V5cy5pbmNsdWRlcyhzb3VyY2UpKSB7CiAgICAgICAgICBlZGdlU051bVtzb3VyY2VdLnB1c2goaWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlZGdlU051bVtzb3VyY2VdID0gW107CiAgICAgICAgICBlZGdlU051bVtzb3VyY2VdLnB1c2goaWQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlZGdlTGlzdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChlZGdlTGlzdHNbaV0uaWQgPT0gaWQpIHsKICAgICAgICAgICAgZWRnZUxpc3RzLnNwbGljZShpLCAxKTsgLy886YWN5YiXPi5zcGxpY2UoPOWni+OBvuOCiuOBruOCpOODs+ODh+ODg+OCr+OCuT4sIDzliYrpmaTjgZnjgovopoHntKDmlbA+KQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3Qgc2FtZUVkZ2VTTnVtID0gZWRnZVNOdW1bc291cmNlXTsKCiAgICAgICAgaWYgKHNhbWVFZGdlU051bS5sZW5ndGggPj0gMikgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzYW1lRWRnZVNOdW0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgaWYgKHNhbWVFZGdlU051bVtqXSA9PSBpZCkgewogICAgICAgICAgICAgIGVkZ2VTTnVtW3NvdXJjZV0uc3BsaWNlKGosIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbGV0ZSBlZGdlU051bVtzb3VyY2VdOwogICAgICAgICAgU2tleXMgPSBPYmplY3Qua2V5cyhlZGdlU051bSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImNoYW5nZSIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlbGVtZW50cy52YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9OwoKICAgIG9uTm9kZXNDaGFuZ2UocGFyYW1zID0+IHsKICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCBwYXJhbXMubGVuZ3RoOyBxKyspIHsKICAgICAgICBpZiAocGFyYW1zW3FdLnR5cGUgPT0gImFkZCIpIHsKICAgICAgICAgIHZhciBub2RlaXRlbXMgPSBwYXJhbXNbcV0uaXRlbTsKICAgICAgICAgIHZhciBub2RlRGF0YSA9IG5vZGVpdGVtcy5kYXRhOyAvL+WMlueyp+W3peeoi+OBruWIpOWumgoKICAgICAgICAgIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDEgJiYgbm9kZURhdGEuaXRlbU51bSA9PSA4KSB7CiAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgaW1nTnVtOiAwLAogICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMSAmJiBub2RlRGF0YS5pdGVtTnVtID09IDggJiYgbm9kZURhdGEudHlwZU51bSA9PSAyKSB7CiAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgaW1nTnVtOiAxLAogICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMiAmJiBub2RlRGF0YS5pdGVtTnVtID09IDExKSB7CiAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgaW1nTnVtOiAyLAogICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMiAmJiAxMyA8PSBub2RlRGF0YS5pdGVtTnVtICYmIG5vZGVEYXRhLml0ZW1OdW0gPD0gMTYpIHsKICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICBpbWdOdW06IDMsCiAgICAgICAgICAgICAgaWQ6IG5vZGVpdGVtcy5pZCwKICAgICAgICAgICAgICB0eXBlOiAiYWRkIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAobm9kZURhdGEucGFydE51bSA9PSAyICYmIDE3IDw9IG5vZGVEYXRhLml0ZW1OdW0gJiYgbm9kZURhdGEuaXRlbU51bSA8PSAyMCkgewogICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgIGltZ051bTogNCwKICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDQgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAyNCkgewogICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgIGltZ051bTogNSwKICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDQgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAyNSkgewogICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgIGltZ051bTogNiwKICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDAgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAyMikgewogICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgIGltZ051bTogNywKICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocGFyYW1zW3FdLnR5cGUgPT0gInJlbW92ZSIpIHsKICAgICAgICAgIGVsZW1lbnRzLnZhbHVlLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICBpZiAoaXNOb2RlKGVsKSAmJiBlbC5pZCA9PSBwYXJhbXNbcV0uaWQpIHsKICAgICAgICAgICAgICBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDEgJiYgZWwuZGF0YS5pdGVtTnVtID09IDgpIHsKICAgICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICAgIGltZ051bTogMCwKICAgICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDEgJiYgZWwuZGF0YS5pdGVtTnVtID09IDggJiYgZWwuZGF0YS50eXBlTnVtID09IDIpIHsKICAgICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICAgIGltZ051bTogMSwKICAgICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDIgJiYgZWwuZGF0YS5pdGVtTnVtID09IDExKSB7CiAgICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgICBpbWdOdW06IDIsCiAgICAgICAgICAgICAgICAgIGlkOiBwYXJhbXNbcV0uaWQsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmRhdGEucGFydE51bSA9PSAyICYmIDEzIDw9IGVsLmRhdGEuaXRlbU51bSAmJiBlbC5kYXRhLml0ZW1OdW0gPD0gMTYpIHsKICAgICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICAgIGltZ051bTogMywKICAgICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDIgJiYgMTcgPD0gZWwuZGF0YS5pdGVtTnVtICYmIGVsLmRhdGEuaXRlbU51bSA8PSAyMCkgewogICAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgICAgaW1nTnVtOiA0LAogICAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgICB0eXBlOiAicmVtb3ZlIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gNCAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gMjQpIHsKICAgICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICAgIGltZ051bTogNSwKICAgICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDQgJiYgZWwuZGF0YS5pdGVtTnVtID09IDI1KSB7CiAgICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgICBpbWdOdW06IDYsCiAgICAgICAgICAgICAgICAgIGlkOiBwYXJhbXNbcV0uaWQsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmRhdGEucGFydE51bSA9PSAwICYmIGVsLmRhdGEuaXRlbU51bSA9PSAyMikgewogICAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgICAgaW1nTnVtOiA3LAogICAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgICB0eXBlOiAicmVtb3ZlIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIG9uRWRnZXNDaGFuZ2UocGFyYW1zID0+IHsKICAgICAgdmFyIE51bU9mU2FtZVNvdXJjZXM7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChwYXJhbXNbaV0udHlwZSA9PSAicmVtb3ZlIikgewogICAgICAgICAgdmFyIHNvdXJjZTsKICAgICAgICAgIHZhciBlZGdlRGF0YTsgLy/mtojjgZnjgqjjg4PjgrjjgajlkIzjgZhzb3VyY2Xjga7jgqjjg4PjgrjjgYzkvZXmnKzjgYLjgovjgYvoqr/jgbnjgosKCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVkZ2VMaXN0cy5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAoZWRnZUxpc3RzW2pdLmlkID09IHBhcmFtc1tpXS5pZCkgewogICAgICAgICAgICAgIGVkZ2VEYXRhID0gZWRnZUxpc3RzW2pdOwogICAgICAgICAgICAgIHNvdXJjZSA9IGVkZ2VMaXN0c1tqXS5zb3VyY2U7CiAgICAgICAgICAgICAgTnVtT2ZTYW1lU291cmNlcyA9IHN1cnZleVNhbWVTb3VyY2Uoc291cmNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvL+OCqOODg+OCuOOBjOePvueKtuOBpzLmnKzku6XkuIvjgaDjgaPjgZ/jgonjgqjjg4PjgrjjgpJzdHJhaWdodOOBq+WIh+OCiuabv+OBiOOCiwoKCiAgICAgICAgICBpZiAoTnVtT2ZTYW1lU291cmNlcyA9PSAyKSB7CiAgICAgICAgICAgIGVsZW1lbnRzLnZhbHVlLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICAgIGlmIChpc0VkZ2UoZWwpICYmIGVsLnNvdXJjZSA9PSBzb3VyY2UpIHsKICAgICAgICAgICAgICAgIGVsLnR5cGUgPSAic3RyYWlnaHQiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7IC8vZWRnZUxpc3Tjga7nirbmhYvlpInmm7QKCiAgICAgICAgICAgIGNoYW5nZUVkZ2VzKGVkZ2VEYXRhLCAiY2hhbmdlIik7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coZWxlbWVudHMudmFsdWUpOwogICAgICAgIH0gZWxzZSBpZiAocGFyYW1zW2ldLnR5cGUgPT0gImFkZCIpIHsKICAgICAgICAgIC8v6L+95Yqg44GZ44KL44Ko44OD44K444Go5ZCM44GYc291cmNl44Gu44Ko44OD44K444GM5L2V5pys44GC44KL44GL6Kq/44G544KLCiAgICAgICAgICBOdW1PZlNhbWVTb3VyY2VzID0gc3VydmV5U2FtZVNvdXJjZShwYXJhbXNbaV0uaXRlbS5zb3VyY2UpOyAvL+OCqOODg+OCuOOBjOePvueKtuOBpzHmnKzku6XkuIrjgYLjgaPjgZ/jgonjgqjjg4PjgrjjgpJzbW9vdGhzdGVw44Gr5YiH44KK5pu/44GI44KLCgogICAgICAgICAgaWYgKE51bU9mU2FtZVNvdXJjZXMgPj0gMSkgewogICAgICAgICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgICBpZiAoaXNFZGdlKGVsKSAmJiBlbC5zb3VyY2UgPT0gcGFyYW1zW2ldLml0ZW0uc291cmNlKSB7CiAgICAgICAgICAgICAgICBlbC50eXBlID0gInNtb290aHN0ZXAiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgb25Db25uZWN0KHBhcmFtcyA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCLjgqjjg4Pjgrjjga7ov73liqAiKTsgLy/jgZPjgozjgYvjgonnmbvpjLLjgZnjgovjgqjjg4Pjgrjjga7lh7roh6rjgpLlj5bjgosgKirjgZPjgZPlpInjgYjjgosKCiAgICAgIHZhciBOdW1PZkVkZ2U7CgogICAgICBpZiAoU2tleXMuaW5jbHVkZXMocGFyYW1zLnNvdXJjZSkpIHsKICAgICAgICBlZGdlU051bVtwYXJhbXMuc291cmNlXS5wdXNoKHBhcmFtcy5pZCk7CiAgICAgICAgTnVtT2ZFZGdlID0gc3VydmV5U2FtZVNvdXJjZShwYXJhbXMuc291cmNlKSArIDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWRnZVNOdW1bcGFyYW1zLnNvdXJjZV0gPSBbXTsKICAgICAgICBlZGdlU051bVtwYXJhbXMuc291cmNlXS5wdXNoKHBhcmFtcy5pZCk7CiAgICAgICAgTnVtT2ZFZGdlID0gMTsKICAgICAgfSAvLyDmlrDjgZfjgYTjgqjjg4Pjgrjjga7ov73liqAKCgogICAgICB2YXIgbmV3RWRnZTsKCiAgICAgIGNvbnN0IGdldEVkZ2VJZCA9ICgpID0+IGBlJHtwYXJhbXMuc291cmNlfV8ke3BhcmFtcy50YXJnZXR9YDsKCiAgICAgIGlmIChwYXJhbXMuc291cmNlLmluZGV4T2YoJ21ha2UnKSA+IC0xKSB7CiAgICAgICAgLy9jdXN0b21NYWtl44Gg44Gj44Gf44KJCiAgICAgICAgbmV3RWRnZSA9IHsKICAgICAgICAgIGlkOiBnZXRFZGdlSWQoKSwKICAgICAgICAgIHNvdXJjZTogcGFyYW1zLnNvdXJjZSwKICAgICAgICAgIHRhcmdldDogcGFyYW1zLnRhcmdldCwKICAgICAgICAgIHR5cGU6IE51bU9mRWRnZSA+IDEgPyAnc21vb3Roc3RlcCcgOiAnc3RyYWlnaHQnLAogICAgICAgICAgbWFya2VyRW5kOiBNYXJrZXJUeXBlLkFycm93Q2xvc2VkLAogICAgICAgICAgdXBkYXRhYmxlOiB0cnVlLAogICAgICAgICAgZXZlbnRzOiB7CiAgICAgICAgICAgIGNsaWNrOiBldmVudCA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQuZWRnZS5sYWJlbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9IGVsc2UgaWYgKHBhcmFtcy5zb3VyY2UuaW5kZXhPZignYnJhbmNoJykgPiAtMSkgewogICAgICAgIC8vY3VzdG9tQnJhbmNo44Gg44Gj44Gf44KJCiAgICAgICAgbmV3RWRnZSA9IHsKICAgICAgICAgIGlkOiBnZXRFZGdlSWQoKSwKICAgICAgICAgIHNvdXJjZTogcGFyYW1zLnNvdXJjZSwKICAgICAgICAgIHRhcmdldDogcGFyYW1zLnRhcmdldCwKICAgICAgICAgIGxhYmVsOiBlZGdlU051bSAlIDIgPT0gMCA/ICJObyIgOiAiWWVzIiwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIHN0cm9rZTogJ3JlZCcKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbFN0eWxlOiB7CiAgICAgICAgICAgIGZpbGw6ICd3aGl0ZScKICAgICAgICAgIH0sCiAgICAgICAgICBsYWJlbEJnU3R5bGU6IHsKICAgICAgICAgICAgZmlsbDogZWRnZVNOdW0gJSAyID09IDAgPyAnYmx1ZScgOiAncmVkJwogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICdzbW9vdGhzdGVwJywKICAgICAgICAgIG1hcmtlckVuZDogTWFya2VyVHlwZS5BcnJvd0Nsb3NlZCwKICAgICAgICAgIHVwZGF0YWJsZTogdHJ1ZSwKICAgICAgICAgIGV2ZW50czogewogICAgICAgICAgICBjbGljazogZXZlbnQgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmVkZ2UubGFiZWwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL2lucHV0L291dHB1dOOBoOOBo+OBn+OCiQogICAgICAgIG5ld0VkZ2UgPSB7CiAgICAgICAgICBpZDogZ2V0RWRnZUlkKCksCiAgICAgICAgICBzb3VyY2U6IHBhcmFtcy5zb3VyY2UsCiAgICAgICAgICB0YXJnZXQ6IHBhcmFtcy50YXJnZXQsCiAgICAgICAgICB0eXBlOiBOdW1PZkVkZ2UgPiAxID8gJ3Ntb290aHN0ZXAnIDogJ3N0cmFpZ2h0JywKICAgICAgICAgIG1hcmtlckVuZDogTWFya2VyVHlwZS5BcnJvd0Nsb3NlZCwKICAgICAgICAgIHVwZGF0YWJsZTogdHJ1ZQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGFkZEVkZ2VzKFtuZXdFZGdlXSk7CiAgICB9KTsKICAgIC8qCiAgICAgKiBub2Rl44Gu44OX44Ot44OR44OG44Kj44KS5pu05paw44GZ44KL44Gr44Gv44CB6KaB57Sg44Gudi1tb2RlbOOCkuS9v+eUqOOBl+OBpuimgee0oOOCkuebtOaOpeWkieabtOOBmeOCi+OBoOOBkeOBp+OBmQogICAgICog6KaB57Sg44KS5LiK5pu444GN44GZ44KL5b+F6KaB44Gq44GP44CB5aSJ5pu044Gv5bi444Gr44Kw44Op44OV44Gr5Y+N5b+c55qE44Gr5Y+N5pig44GV44KM44KL5b+F6KaB44GM44GC44KK44G+44GZCiAgICAqLwogICAgLy92dWVGbG935LiK44Gu44Oc44K/44Oz5pON5L2cCiAgICAvL+ePvuWcqOOBrnZpZXdwYW5l44Gu5aSJ5o+bICjjgrrjg7zjg6Djgajjg5Hjg7MpIOOCkuODquOCu+ODg+ODiAoKICAgIGNvbnN0IHJlc2V0VHJhbnNmb3JtID0gKCkgPT4gc2V0VHJhbnNmb3JtKHsKICAgICAgeDogMCwKICAgICAgeTogMCwKICAgICAgem9vbTogMQogICAgfSk7IC8v44OO44O844OJ44Gu5L2N572u44KS44Op44Oz44OA44Og44Gr5pu05pawCgoKICAgIGNvbnN0IHVwZGF0ZVBvcyA9ICgpID0+IHsKICAgICAgZWxlbWVudHMudmFsdWUuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgaWYgKGlzTm9kZShlbCkpIHsKICAgICAgICAgIGVsLnBvc2l0aW9uID0gewogICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogNDAwLAogICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogNDAwCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OyAvL3RvT2JqZWN044Gv44CB54++5Zyo44Gu44Kw44Op44OV44OH44O844K/44KS57Ch5Y2Y44Gr5rC457aa5YyW44Gn44GN44KL44Kq44OW44K444Kn44Kv44OI44Gr5aSJ5o+b44GX44G+44GZCgoKICAgIGNvbnN0IGxvZ1RvT2JqZWN0ID0gKCkgPT4gY29uc29sZS5sb2codG9PYmplY3QoKSk7IC8v6YG45oqe44GX44Gf44OO44O844OJ44KS44Kz44OU44O844GZ44KLCgoKICAgIGNvbnN0IGNvcHlOb2RlcyA9ICgpID0+IHsKICAgICAgY29uc29sZS5sb2coIumBuOaKnuOBl+OBn+OCguOBriIpOwogICAgfTsKCiAgICBjb25zdCB1cGRhdGVMYWJlbCA9IGNvbXB1dGVkKHsKICAgICAgZ2V0OiAoKSA9PiBzdG9yZS5zdGF0ZS5sYWJlbCwKICAgICAgc2V0OiB2YWx1ZSA9PiBzdG9yZS5jb21taXQoInNldExhYmVsIiwgdmFsdWUpCiAgICB9KTsKICAgIGxldCBpZCA9IDA7CgogICAgY29uc3Qgc3NfZ2V0SWQgPSAoKSA9PiBgc3NfJHtpZCsrfWA7CgogICAgY29uc3QgbV9nZXRJZCA9ICgpID0+IGBtYWtlXyR7aWQrK31gOwoKICAgIGNvbnN0IGJfZ2V0SWQgPSAoKSA9PiBgYnJhbmNoXyR7aWQrK31gOwoKICAgIGNvbnN0IG9uRHJvcCA9IGV2ZW50ID0+IHsKICAgICAgdmFyIF9ldmVudCRkYXRhVHJhbnNmZXI7CgogICAgICBjb25zdCB0eXBlID0gKF9ldmVudCRkYXRhVHJhbnNmZXIgPSBldmVudC5kYXRhVHJhbnNmZXIpID09PSBudWxsIHx8IF9ldmVudCRkYXRhVHJhbnNmZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRkYXRhVHJhbnNmZXIuZ2V0RGF0YSgnYXBwbGljYXRpb24vdnVlZmxvdycpOwogICAgICBjb25zdCBwb3NpdGlvbiA9IHByb2plY3QoewogICAgICAgIHg6IGV2ZW50LmNsaWVudFggLSA0MDAsCiAgICAgICAgeTogZXZlbnQuY2xpZW50WSAtIDE1MAogICAgICB9KTsKICAgICAgdmFyIG5ld05vZGU7CgogICAgICBpZiAodHlwZSA9PSAnaW5wdXQnIHx8IHR5cGUgPT0gJ291dHB1dCcpIHsKICAgICAgICAvL+mWi+Wni+ODjuODvOODieOBi+e1guS6huODjuODvOODiQogICAgICAgIG5ld05vZGUgPSB7CiAgICAgICAgICBpZDogc3NfZ2V0SWQoKSwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgIGxhYmVsOiB0eXBlID09ICdpbnB1dCcgPyBg44Oh44Kk44Kv6ZaL5aeLYCA6IGDjg6HjgqTjgq/ntYLkuoZgCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdOb2RlID0gewogICAgICAgICAgaWQ6IHR5cGUgPT0gJ2N1c3RvbU1ha2UnID8gbV9nZXRJZCgpIDogYl9nZXRJZCgpLAogICAgICAgICAgdHlwZSwKICAgICAgICAgIHBvc2l0aW9uLAogICAgICAgICAgbGFiZWw6IHN0b3JlLnN0YXRlLml0ZW1OYW1lICsgIigiICsgc3RvcmUuc3RhdGUudHlwZU5hbWUgKyAiKSIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIHBhcnROYW1lOiBzdG9yZS5zdGF0ZS5wYXJ0TmFtZSwKICAgICAgICAgICAgcGFydE51bTogc3RvcmUuc3RhdGUucGFydE51bSwKICAgICAgICAgICAgaXRlbU5hbWU6IHN0b3JlLnN0YXRlLml0ZW1OYW1lLAogICAgICAgICAgICBpdGVtTnVtOiBzdG9yZS5zdGF0ZS5pdGVtTnVtLAogICAgICAgICAgICB0eXBlTmFtZTogc3RvcmUuc3RhdGUudHlwZU5hbWUsCiAgICAgICAgICAgIHR5cGVOdW06IHN0b3JlLnN0YXRlLnR5cGVOdW0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBhZGROb2RlcyhbbmV3Tm9kZV0pOwogICAgfTsKCiAgICBjb25zdCBzZWxlY3RlZERyYWcgPSBwYXJhbXMgPT4gewogICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgfTsKCiAgICBjb25zdCBzZWxlY3QyID0gcGFyYW1zID0+IHsKICAgICAgY29uc29sZS5sb2cocGFyYW1zKTsKICAgIH07CgogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBvblBhbmVSZWFkeSwKICAgICAgb25Db25uZWN0LAogICAgICBvbkVkZ2VzQ2hhbmdlLAogICAgICBvbk5vZGVzQ2hhbmdlLAogICAgICBhZGRFZGdlcywKICAgICAgYWRkTm9kZXMsCiAgICAgIHNldFRyYW5zZm9ybSwKICAgICAgdG9PYmplY3QsCiAgICAgIHByb2plY3QsCiAgICAgIGVsZW1lbnRzLAogICAgICBub2RlVHlwZXMsCiAgICAgIHN0b3JlLAogICAgICBub2RlTGlzdHMsCiAgICAgIGVkZ2VMaXN0cywKICAgICAgZWRnZVNOdW0sCiAgICAgIFNrZXlzLAogICAgICBtYWtlTm9kZU51bSwKICAgICAgc3VydmV5U291cmNlLAogICAgICBjaGFuZ2VBbGxFZGdlc1R5cGUsCiAgICAgIGNoYW5nZU1ha2VOb2RlcywKICAgICAgY2hlY2tNYWtlTm9kZXMsCiAgICAgIG9uTG9hZCwKICAgICAgb25EcmFnT3ZlciwKICAgICAgc3VydmV5U2FtZVNvdXJjZSwKICAgICAgY2hhbmdlRWRnZXMsCiAgICAgIHJlc2V0VHJhbnNmb3JtLAogICAgICB1cGRhdGVQb3MsCiAgICAgIGxvZ1RvT2JqZWN0LAogICAgICBjb3B5Tm9kZXMsCiAgICAgIHVwZGF0ZUxhYmVsLAogICAgICBpZCwKICAgICAgc3NfZ2V0SWQsCiAgICAgIG1fZ2V0SWQsCiAgICAgIGJfZ2V0SWQsCiAgICAgIG9uRHJvcCwKICAgICAgc2VsZWN0ZWREcmFnLAogICAgICBzZWxlY3QyLAogICAgICBCYWNrZ3JvdW5kLAogICAgICBDb250cm9scywKICAgICAgTWluaU1hcCwKICAgICAgVnVlRmxvdywKICAgICAgaXNOb2RlLAogICAgICBpc0VkZ2UsCiAgICAgIE1hcmtlclR5cGUsCiAgICAgIENvbm5lY3Rpb25Nb2RlLAogICAgICB1c2VWdWVGbG93LAogICAgICBjb21wdXRlZCwKICAgICAgbWFya1JhdywKICAgICAgcmVmLAogICAgICBvbk1vdW50ZWQsCiAgICAgIHVzZVN0b3JlLAogICAgICBpbml0aWFsRWxlbWVudHMsCiAgICAgIE1ha2VOb2RlLAogICAgICBCcmFuY2hOb2RlLAogICAgICBOb2RlU2V0dGluZ3MsCiAgICAgIEZhY2VJbWFnZSwKICAgICAgTm9kZUZpZWxkLAogICAgICBUb3BNZW51CiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQoKfTs="},{"version":3,"mappings":"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","names":["Background","Controls","MiniMap","VueFlow","isNode","isEdge","MarkerType","ConnectionMode","useVueFlow","computed","markRaw","ref","onMounted","useStore","initialElements","MakeNode","BranchNode","NodeSettings","FaceImage","NodeField","TopMenu","onPaneReady","onConnect","onEdgesChange","onNodesChange","addEdges","addNodes","setTransform","toObject","project","elements","nodeTypes","customMake","customBranch","store","nodeLists","edgeLists","edgeSNum","Skeys","makeNodeNum","surveySource","changeAllEdgesType","checkMakeNodes","value","forEach","el","push","Object","keys","tempsource","source","includes","id","tempS","length","type","changeMakeNodes","nodeData","imgNum","lengthNum","n","splice","l","tempLengthNum","commit","imgState","data","partNum","itemNum","typeNum","dataitemNum","fitView","onLoad","flowInstance","onDragOver","event","console","log","preventDefault","dataTransfer","dropEffect","surveySameSource","temp2","changeEdges","edge","i","sameEdgeSNum","j","params","q","nodeitems","item","NumOfSameSources","edgeData","NumOfEdge","newEdge","getEdgeId","target","indexOf","markerEnd","ArrowClosed","updatable","events","click","label","style","stroke","labelStyle","fill","labelBgStyle","resetTransform","x","y","zoom","updatePos","position","Math","random","logToObject","copyNodes","updateLabel","get","state","set","ss_getId","m_getId","b_getId","onDrop","getData","clientX","clientY","newNode","itemName","typeName","partName","selectedDrag","select2"],"sources":["/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue"],"sourcesContent":["<script setup>\nimport { Background, Controls, MiniMap, VueFlow, isNode, isEdge, MarkerType, ConnectionMode, useVueFlow, } from '@braks/vue-flow'\nimport { computed, markRaw, ref, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { initialElements } from '../js/initial-elements.js'\n//カスタムノードの追加\nimport MakeNode from '@/components/MakeNode.vue'\nimport BranchNode from '@/components/BranchNode.vue'\n//子コンポーネントの追加\nimport NodeSettings from '@/components/NodeSettings.vue'\nimport FaceImage from '@/components/FaceImage.vue'\nimport NodeField from '@/components/NodeField.vue'\nimport TopMenu from '@/components/TopMenu.vue'\n\n//初期設定\nconst { onPaneReady, onConnect, onEdgesChange, onNodesChange, addEdges, addNodes, setTransform, toObject, project, } = useVueFlow()\nconst elements = ref(initialElements)\n//const elements2 = reactive(elements) reactive,\nconst nodeTypes = {\n  customMake: markRaw(MakeNode),\n  customBranch: markRaw(BranchNode),\n}\nconst store = useStore()\nvar nodeLists = []\nvar edgeLists = []\nvar edgeSNum = [] //sourceから見たedgeの重複 source:[id]\nvar Skeys = [] //source\nvar makeNodeNum = {0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: []}\n\n//最初に一度ノード・エッジのリストを得る\nonMounted(() => {\n  surveySource()\n  changeAllEdgesType()\n  checkMakeNodes()\n})\n/* ノードとエッジの調査 */\nconst surveySource = () => {\n  //登録済みのエッジの出自関係を探る\n  elements.value.forEach((el) => {\n    if(isNode(el)){\n      nodeLists.push(el) //ノード情報の取得\n    }\n    if (isEdge(el)) {\n      edgeLists.push(el) //エッジ情報の取得\n      Skeys = Object.keys(edgeSNum)\n      var tempsource = el.source\n      if(Skeys.includes(tempsource)){\n        edgeSNum[tempsource].push(el.id)\n      }else{\n        edgeSNum[tempsource] = []\n        edgeSNum[tempsource].push(el.id)\n      }\n    }\n  })\n  Skeys = Object.keys(edgeSNum) //最終ループ分のkeyの更新\n}\nconst changeAllEdgesType = () => {\n  elements.value.forEach((el) => {\n    if (isEdge(el)) {\n      //sourceが同じものが2つ以上あるか\n      var tempS = edgeSNum[el.source]\n      if(tempS.length >= 2){\n        el.type = \"smoothstep\"\n      }else{\n        el.type = \"straight\"\n      }\n    }\n  })\n}\n/* メイクノードの調査 */\nconst changeMakeNodes = (nodeData) => {\n  if(nodeData.type == \"add\"){\n    makeNodeNum[nodeData.imgNum].push(nodeData.id)\n  }else if(nodeData.type == \"remove\"){\n    var lengthNum = makeNodeNum[nodeData.imgNum]\n    for(var n=0; n<lengthNum.length; n++){\n      if(lengthNum[n] == nodeData.id){\n        makeNodeNum[nodeData.imgNum].splice(n, 1)\n      }\n    }\n  }else{\n    return\n  }\n  for(var l=0; l<Object.keys(makeNodeNum).length; l++){\n    var tempLengthNum = makeNodeNum[l]\n    if(tempLengthNum.length >= 1){\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: true})\n    }else{\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: false})\n    }\n  }\n}\nconst checkMakeNodes = () => {\n  elements.value.forEach((el) => {\n    if (isNode(el) && el.type == \"customMake\") {\n      if(el.data.partNum == 1 && el.data.itemNum == 8){\n        changeMakeNodes({imgNum: 0, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 1 && el.data.itemNum == 8 && el.data.typeNum == 2){\n        changeMakeNodes({imgNum: 1, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 2 && el.dataitemNum == 11){\n        changeMakeNodes({imgNum: 2, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 2 && (13 <= el.data.itemNum && el.data.itemNum <= 16)){\n        changeMakeNodes({imgNum: 3, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 2 && (17 <= el.data.itemNum && el.data.itemNum <= 20)){\n        changeMakeNodes({imgNum: 4, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 4 && el.data.itemNum == 24){\n        changeMakeNodes({imgNum: 5, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 4 && el.data.itemNum == 25){\n        changeMakeNodes({imgNum: 6, id: el.id, type: \"add\"})\n      }else if(el.data.partNum == 0 && el.data.itemNum == 22){\n        changeMakeNodes({imgNum: 7, id: el.id, type: \"add\"})\n      }else{\n        return\n      }\n    }\n  })\n}\n\n/* 起動時の挙動 */\n//onPaneReadyは、viewpaneとノードに表示可能なディメンションがある場合に呼び出されます\nonPaneReady(({fitView}) => {\n  fitView()\n})\nconst onLoad = (flowInstance) => flowInstance.fitView()\n//onNodeDragStop, onNodeDragStop(() => console.log('drag stop'))\nconst onDragOver = (event) => {\n  console.log(event)\n  event.preventDefault()\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = 'move'\n  }\n}\n\n//対象エッジと同じノードから出ているエッジの本数\nconst surveySameSource = (source) => {\n  if(Skeys.includes(source)){\n    var temp2 = edgeSNum[source]\n    return temp2.length\n  }else{\n    return 0\n  }\n}\n\nconst changeEdges = (edge, type) => {\n  var id = edge.id\n  var source = edge.source\n  if(type == \"add\"){\n    edgeLists.push(edge)\n    if(Skeys.includes(source)){\n      edgeSNum[source].push(id)\n    }else{\n      edgeSNum[source] = []\n      edgeSNum[source].push(id)\n    }\n  }else if(type == \"remove\"){\n    for(var i=0; i<edgeLists.length; i++){\n      if(edgeLists[i].id == id){\n        edgeLists.splice(i, 1) //<配列>.splice(<始まりのインデックス>, <削除する要素数>)\n      }\n    }\n    const sameEdgeSNum = edgeSNum[source]\n    if(sameEdgeSNum.length >= 2){\n      for(var j=0; j<sameEdgeSNum.length; j++){\n        if(sameEdgeSNum[j] == id){\n          edgeSNum[source].splice(j, 1)\n        }\n      }\n    }else{\n      delete edgeSNum[source]\n      Skeys = Object.keys(edgeSNum)\n    }\n  }else if(type == \"change\"){\n    console.log(elements.value)\n  }else{\n    return\n  }\n}\n\nonNodesChange((params) => {\n  for(var q=0; q<params.length; q++){\n    if(params[q].type == \"add\"){\n      var nodeitems = params[q].item\n      var nodeData = nodeitems.data\n      //化粧工程の判定\n      if(nodeData.partNum == 1 && nodeData.itemNum == 8){\n        changeMakeNodes({imgNum: 0, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 1 && nodeData.itemNum == 8 && nodeData.typeNum == 2){\n        changeMakeNodes({imgNum: 1, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 2 && nodeData.itemNum == 11){\n        changeMakeNodes({imgNum: 2, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 2 && (13 <= nodeData.itemNum && nodeData.itemNum <= 16)){\n        changeMakeNodes({imgNum: 3, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 2 && (17 <= nodeData.itemNum && nodeData.itemNum <= 20)){\n        changeMakeNodes({imgNum: 4, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 4 && nodeData.itemNum == 24){\n        changeMakeNodes({imgNum: 5, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 4 && nodeData.itemNum == 25){\n        changeMakeNodes({imgNum: 6, id: nodeitems.id, type: \"add\"})\n      }else if(nodeData.partNum == 0 && nodeData.itemNum == 22){\n        changeMakeNodes({imgNum: 7, id: nodeitems.id, type: \"add\"})\n      }else{\n        return\n      }\n    }else if(params[q].type == \"remove\"){\n      elements.value.forEach((el) => {\n        if(isNode(el) && el.id == params[q].id){\n          if(el.data.partNum == 1 && el.data.itemNum == 8){\n            changeMakeNodes({imgNum: 0, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 1 && el.data.itemNum == 8 && el.data.typeNum == 2){\n            changeMakeNodes({imgNum: 1, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 2 && el.data.itemNum == 11){\n            changeMakeNodes({imgNum: 2, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 2 && (13 <= el.data.itemNum && el.data.itemNum <= 16)){\n            changeMakeNodes({imgNum: 3, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 2 && (17 <= el.data.itemNum && el.data.itemNum <= 20)){\n            changeMakeNodes({imgNum: 4, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 4 && el.data.itemNum == 24){\n            changeMakeNodes({imgNum: 5, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 4 && el.data.itemNum == 25){\n            changeMakeNodes({imgNum: 6, id: params[q].id, type: \"remove\"})\n          }else if(el.data.partNum == 0 && el.data.itemNum == 22){\n            changeMakeNodes({imgNum: 7, id: params[q].id, type: \"remove\"})\n          }else{\n            return\n          }\n        }\n      })\n    }else{\n      return\n    }\n  }\n})\n\nonEdgesChange((params) => {\n  var NumOfSameSources\n  for(var i=0; i<params.length; i++){\n    if(params[i].type == \"remove\"){\n      var source\n      var edgeData\n      //消すエッジと同じsourceのエッジが何本あるか調べる\n      for(var j=0; j<edgeLists.length; j++){\n        if (edgeLists[j].id == params[i].id) {\n          edgeData = edgeLists[j]\n          source = edgeLists[j].source\n          NumOfSameSources = surveySameSource(source)\n        }\n      }\n      //エッジが現状で2本以下だったらエッジをstraightに切り替える\n      if(NumOfSameSources == 2){\n        elements.value.forEach((el) => {\n          if (isEdge(el) && el.source == source) {\n            el.type = \"straight\"\n          }\n        })\n        //edgeListの状態変更\n        changeEdges(edgeData, \"change\")\n      }\n      console.log(elements.value)\n    }else if(params[i].type == \"add\"){\n     //追加するエッジと同じsourceのエッジが何本あるか調べる\n     NumOfSameSources = surveySameSource(params[i].item.source)\n     //エッジが現状で1本以上あったらエッジをsmoothstepに切り替える\n     if(NumOfSameSources >= 1){\n       elements.value.forEach((el) => {\n         if (isEdge(el) && el.source == params[i].item.source) {\n           el.type = \"smoothstep\"\n         }\n       })\n     }\n   }else{\n    return\n   }\n  }\n})\n\nonConnect((params) => {\n  console.log(\"エッジの追加\")\n  //これから登録するエッジの出自を取る **ここ変える\n  var NumOfEdge\n  if(Skeys.includes(params.source)){\n    edgeSNum[params.source].push(params.id)\n    NumOfEdge = surveySameSource(params.source) +1\n  }else{\n    edgeSNum[params.source] = []\n    edgeSNum[params.source].push(params.id)\n    NumOfEdge = 1\n  }\n\n  // 新しいエッジの追加\n  var newEdge\n  const getEdgeId = () => `e${params.source}_${params.target}`\n  if(params.source.indexOf('make') > -1){\n    //customMakeだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n      events: {\n        click: (event) => {\n          console.log(event.edge.label)\n        },\n      }\n    }\n  }else if(params.source.indexOf('branch') > -1){\n    //customBranchだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      label: edgeSNum%2 == 0 ? \"No\" : \"Yes\",\n      style: { stroke: 'red' },\n      labelStyle: { fill: 'white' },\n      labelBgStyle: { fill: edgeSNum%2 == 0 ? 'blue' : 'red' },\n      type: 'smoothstep',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n      events: {\n        click: (event) => {\n          console.log(event.edge.label)\n        },\n      }\n    }\n  }else{\n    //input/outputだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n    }\n  }\n  addEdges([newEdge])\n})\n\n/*\n * nodeのプロパティを更新するには、要素のv-modelを使用して要素を直接変更するだけです\n * 要素を上書きする必要なく、変更は常にグラフに反応的に反映される必要があります\n*/\n\n//vueFlow上のボタン操作\n//現在のviewpaneの変換 (ズームとパン) をリセット\nconst resetTransform = () => setTransform({ x: 0, y: 0, zoom: 1 })\n//ノードの位置をランダムに更新\nconst updatePos = () => {\n  elements.value.forEach((el) => {\n    if (isNode(el)) {\n      el.position = {\n        x: Math.random() * 400,\n        y: Math.random() * 400,\n      }\n    }\n  })\n}\n//toObjectは、現在のグラフデータを簡単に永続化できるオブジェクトに変換します\nconst logToObject = () => console.log(toObject())\n//選択したノードをコピーする\nconst copyNodes = () => {\n  console.log(\"選択したもの\")\n}\n\n\nconst updateLabel = computed({\n  get: () => store.state.label,\n  set: (value) => store.commit(\"setLabel\", value)\n})\n\nlet id = 0\nconst ss_getId = () => `ss_${id++}`\nconst m_getId = () => `make_${id++}`\nconst b_getId = () => `branch_${id++}`\nconst onDrop = (event) => {\n  const type = event.dataTransfer?.getData('application/vueflow')\n  const position = project({ x: event.clientX - 400, y: event.clientY - 150 })\n  var newNode\n  if(type == 'input' || type == 'output'){\n    //開始ノードか終了ノード\n    newNode = {\n      id: ss_getId(),\n      type,\n      position,\n      label: type == 'input' ? `メイク開始` : `メイク終了`,\n    }\n  }else{\n    newNode = {\n      id: type == 'customMake' ? m_getId() : b_getId(),\n      type,\n      position,\n      label: store.state.itemName+\"(\"+store.state.typeName+\")\",\n      data: {\n        partName: store.state.partName,\n        partNum: store.state.partNum,\n        itemName: store.state.itemName,\n        itemNum: store.state.itemNum,\n        typeName: store.state.typeName,\n        typeNum: store.state.typeNum,\n      }\n    }\n  }\n  addNodes([newNode])\n}\n\nconst selectedDrag = (params) =>{\n  console.log(params)\n}\nconst select2 = (params) => {\n  console.log(params)\n}\n</script>\n\n<template>\n  <TopMenu />\n  <div class=\"dndflow\" @drop=\"onDrop\">\n    <div class=\"sidemenu\">\n      <FaceImage />\n      <NodeSettings />\n      <NodeField />\n    </div>\n    <VueFlow\n      class=\"basicflow\" v-model=\"elements\"\n      :node-types=\"nodeTypes\" :default-zoom=\"1.5\" :min-zoom=\"0.2\" :max-zoom=\"4\"\n      :fit-view-on-init=\"true\" :snap-to-grid=\"true\" :connection-mode=\"ConnectionMode.Loose\"\n      @dragover=\"onDragOver\" @pane-ready=\"onLoad\" @selection-drag=\"selectedDrag\" @selection-context-menu=\"select2\"\n    >\n      <Background pattern-color=\"#000000\" gap=\"8\" />\n      <MiniMap />\n      <Controls />\n      <div class=\"controls\">\n        <button style=\"background-color: #191970; color: white;\" @click=\"resetTransform\">reset transform</button>\n        <button style=\"background-color: #8a2be2; color: white;\" @click=\"updatePos\">update positions</button>\n        <button @click=\"logToObject\">log toObject</button>\n        <button style=\"background-color: #fffacd; color: black;\" @click=\"copyNodes\">copy selected nodes</button>\n      </div>\n      <div class=\"updateEdge__controls\">\n        <label>label:</label>\n        <input v-model=\"updateLabel\"/>\n        <button @click=\"onEdgeUpdate\">決定</button>\n      </div>\n      <!--カスタムノードの設定-->\n      <template #node-Make=\"props\">\n        <MakeNode v-bind=\"props\" />\n      </template>\n      <template #node-Branch=\"props\">\n        <BranchNode v-bind=\"props\" />\n      </template>\n    </VueFlow>\n  </div>\n</template>\n\n<style>\n@import '../css/flowchart.css';\n</style>"]}]}