{"remainingRequest":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/babel-loader/lib/index.js!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue","mtime":1663494914751},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/babel.config.js","mtime":1661341671887},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1663381957340},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/babel-loader/lib/index.js","mtime":1663381957251},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1663381957340},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/index.js","mtime":1663381993401}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQmFja2dyb3VuZCwgQ29udHJvbHMsIE1pbmlNYXAsIFZ1ZUZsb3csIGlzTm9kZSwgaXNFZGdlLCBNYXJrZXJUeXBlLCBDb25uZWN0aW9uTW9kZSwgdXNlVnVlRmxvdyB9IGZyb20gJ0BicmFrcy92dWUtZmxvdyc7CmltcG9ydCB7IGNvbXB1dGVkLCBtYXJrUmF3LCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB0ZXN0SW5pdGlhbEVsZW1lbnRzIH0gZnJvbSAnLi4vanMvaW5pdGlhbC1lbGVtZW50cy5qcyc7IC8v44Kr44K544K/44Og44OO44O844OJ44Gu6L+95YqgCgppbXBvcnQgTWFrZU5vZGUgZnJvbSAnQC9jb21wb25lbnRzL01ha2VOb2RlLnZ1ZSc7CmltcG9ydCBCcmFuY2hOb2RlIGZyb20gJ0AvY29tcG9uZW50cy9CcmFuY2hOb2RlLnZ1ZSc7IC8v5a2Q44Kz44Oz44Od44O844ON44Oz44OI44Gu6L+95YqgCgppbXBvcnQgTm9kZVNldHRpbmdzIGZyb20gJ0AvY29tcG9uZW50cy9Ob2RlU2V0dGluZ3MudnVlJzsKaW1wb3J0IEZhY2VJbWFnZSBmcm9tICdAL2NvbXBvbmVudHMvRmFjZUltYWdlLnZ1ZSc7CmltcG9ydCBOb2RlRmllbGQgZnJvbSAnQC9jb21wb25lbnRzL05vZGVGaWVsZC52dWUnOwppbXBvcnQgVG9wTWVudSBmcm9tICdAL2NvbXBvbmVudHMvVG9wTWVudS52dWUnOyAvL+ODqeOCpOODluODqeODquOBrui/veWKoAoKaW1wb3J0IFZ1ZVNpbXBsZUNvbnRleHRNZW51IGZyb20gJ3Z1ZS1zaW1wbGUtY29udGV4dC1tZW51JzsKaW1wb3J0ICd2dWUtc2ltcGxlLWNvbnRleHQtbWVudS9kaXN0L3Z1ZS1zaW1wbGUtY29udGV4dC1tZW51LmNzcyc7IC8v5Yid5pyf6Kit5a6aCgovKiB2dWUtZmxvd+OBruWIneacn+ioreWumiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIF9fbmFtZTogJ0Fib3V0JywKCiAgc2V0dXAoX19wcm9wcywgewogICAgZXhwb3NlCiAgfSkgewogICAgZXhwb3NlKCk7CiAgICBjb25zdCB7CiAgICAgIG9uUGFuZVJlYWR5LAogICAgICBvbkNvbm5lY3QsCiAgICAgIG9uRWRnZXNDaGFuZ2UsCiAgICAgIG9uTm9kZXNDaGFuZ2UsCiAgICAgIGFkZEVkZ2VzLAogICAgICBhZGROb2RlcywKICAgICAgc2V0VHJhbnNmb3JtLAogICAgICB0b09iamVjdCwKICAgICAgcHJvamVjdAogICAgfSA9IHVzZVZ1ZUZsb3coKTsKICAgIGNvbnN0IGVsZW1lbnRzID0gcmVmKHRlc3RJbml0aWFsRWxlbWVudHMpOwogICAgY29uc3Qgbm9kZVR5cGVzID0gewogICAgICBjdXN0b21NYWtlOiBtYXJrUmF3KE1ha2VOb2RlKSwKICAgICAgY3VzdG9tQnJhbmNoOiBtYXJrUmF3KEJyYW5jaE5vZGUpCiAgICB9OwogICAgLyogc3RvcmXjga7plovlp4sgKi8KCiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICAvKiDjg47jg7zjg4njga7nrqHnkIblpInmlbAgKi8KCiAgICB2YXIgU2tleXMgPSBbXTsgLy9zb3VyY2UKCiAgICB2YXIgZWRnZVNOdW0gPSBbXTsgLy9zb3VyY2XjgYvjgonopovjgZ9lZGdl44Gu6YeN6KSHIHNvdXJjZTpbaWRdCgogICAgdmFyIG1ha2VOb2RlTnVtID0gewogICAgICAwOiBbXSwKICAgICAgMTogW10sCiAgICAgIDI6IFtdLAogICAgICAzOiBbXSwKICAgICAgNDogW10sCiAgICAgIDU6IFtdLAogICAgICA2OiBbXSwKICAgICAgNzogW10KICAgIH07IC8vaW1nTnVtOltpZF0KCiAgICAvKiB2dWUtc2ltcGxlLWNvbnRleHQtbWVudeOBruWIneacn+ioreWumiAqLwoKICAgIGNvbnN0IG9wdGlvbnMgPSBbewogICAgICBuYW1lOiAiQ29weSIsCiAgICAgIHNsdWc6ICJjb3B5IgogICAgfV07CiAgICBjb25zdCB2dWVDb250ZXh0TWVudSA9IHJlZih0ZXN0SW5pdGlhbEVsZW1lbnRzKTsKICAgIC8qIHZ1ZS1zaW1wbGUtY29udGV4dC1tZW5144Gu6Zai5pWwICovCgogICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBldmVudCA9PiB7CiAgICAgIC8vIG92ZXJ3cml0ZSByZWFkb25seSBwcm9wZXJ0aWVzIHBhZ2VYIGFuZCBwYWdlWSBhbmQgc2V0IGNvcnJlY3QgdmFsdWVzCiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3BhZ2VYJywgewogICAgICAgIHZhbHVlOiBldmVudC5wYWdlWCAtIDM1MCwKICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICB9KTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAncGFnZVknLCB7CiAgICAgICAgdmFsdWU6IGV2ZW50LnBhZ2VZIC0gMTAwLAogICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgIH0pOwogICAgICB2dWVDb250ZXh0TWVudS52YWx1ZS5zaG93TWVudShldmVudCk7CiAgICB9OyAvL+OCs+ODs+ODhuOCreOCueODiOODoeODi+ODpeODvOOCkuWRvOOBs+WHuuOBmQoKCiAgICBjb25zdCBzZWxlY3RNZW51ID0gcGFyYW1zID0+IHsKICAgICAgc3RvcmUuY29tbWl0KCJzZXRTZWxlY3ROb2RlTGlzdCIsIHBhcmFtcy5ub2Rlcyk7CiAgICB9OyAvL+OCs+ODs+ODhuOCreOCueODiOODoeODi+ODpeODvOOBruOCr+ODquODg+OCrwoKCiAgICBjb25zdCBvcHRpb25DbGlja2VkID0gKCkgPT4gewogICAgICB2YXIgY29weU5vZGU7CiAgICAgIHZhciBjb3B5Tm9kZXNEYXRhID0gc3RvcmUuc3RhdGUuc2VsZWN0bm9kZUxpc3Q7CgogICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGNvcHlOb2Rlc0RhdGEubGVuZ3RoOyBzKyspIHsKICAgICAgICB2YXIgY29weU5vZGVEYXRhID0gc3RvcmUuc3RhdGUuc2VsZWN0bm9kZUxpc3Rbc107CgogICAgICAgIGlmIChjb3B5Tm9kZURhdGEudHlwZSA9PSAnaW5wdXQnIHx8IGNvcHlOb2RlRGF0YS50eXBlID09ICdvdXRwdXQnKSB7CiAgICAgICAgICAvL+mWi+Wni+ODjuODvOODieOBi+e1guS6huODjuODvOODiQogICAgICAgICAgY29weU5vZGUgPSB7CiAgICAgICAgICAgIGlkOiBzc19nZXRJZCgpLAogICAgICAgICAgICB0eXBlOiBjb3B5Tm9kZURhdGEudHlwZSwKICAgICAgICAgICAgcG9zaXRpb246IHByb2plY3QoewogICAgICAgICAgICAgIHg6IGNvcHlOb2RlRGF0YS5wb3NpdGlvbi54ICsgMTAwLAogICAgICAgICAgICAgIHk6IGNvcHlOb2RlRGF0YS5wb3NpdGlvbi55ICsgMTAwCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBsYWJlbDogY29weU5vZGVEYXRhLmxhYmVsCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb3B5Tm9kZSA9IHsKICAgICAgICAgICAgaWQ6IGNvcHlOb2RlRGF0YS50eXBlID09ICdjdXN0b21NYWtlJyA/IG1fZ2V0SWQoKSA6IGJfZ2V0SWQoKSwKICAgICAgICAgICAgdHlwZTogY29weU5vZGVEYXRhLnR5cGUsCiAgICAgICAgICAgIHBvc2l0aW9uOiBwcm9qZWN0KHsKICAgICAgICAgICAgICB4OiBjb3B5Tm9kZURhdGEucG9zaXRpb24ueCArIDEwMCwKICAgICAgICAgICAgICB5OiBjb3B5Tm9kZURhdGEucG9zaXRpb24ueSArIDEwMAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbGFiZWw6IGNvcHlOb2RlRGF0YS5sYWJlbCwKICAgICAgICAgICAgZGF0YTogY29weU5vZGVEYXRhLmRhdGEKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBhZGROb2RlcyhbY29weU5vZGVdKTsKICAgICAgfQogICAgfTsKICAgIC8qIOi1t+WLleaZguOBruaMmeWLlSAqLwogICAgLy9vblBhbmVSZWFkeeOBr+OAgXZpZXdwYW5l44Go44OO44O844OJ44Gr6KGo56S65Y+v6IO944Gq44OH44Kj44Oh44Oz44K344On44Oz44GM44GC44KL5aC05ZCI44Gr5ZG844Gz5Ye644GV44KM44G+44GZCgoKICAgIG9uUGFuZVJlYWR5KCh7CiAgICAgIGZpdFZpZXcKICAgIH0pID0+IHsKICAgICAgZml0VmlldygpOwogICAgfSk7CgogICAgY29uc3Qgb25Mb2FkID0gZmxvd0luc3RhbmNlID0+IGZsb3dJbnN0YW5jZS5maXRWaWV3KCk7CiAgICAvKiDlr77osaHjga7jg47jg7zjg4njgajjgqjjg4Pjgrjjga7oqr/mn7sgKi8KICAgIC8v5a++6LGh44Ko44OD44K444Go5ZCM44GY44OO44O844OJ44GL44KJ5Ye644Gm44GE44KL44Ko44OD44K444Gu5pys5pWw44KS6L+U44GZKHJldHVybikKCgogICAgY29uc3Qgc3VydmV5U2FtZVNvdXJjZSA9IHNvdXJjZSA9PiB7CiAgICAgIGlmIChTa2V5cy5pbmNsdWRlcyhzb3VyY2UpKSB7CiAgICAgICAgdmFyIHRlbXAyID0gZWRnZVNOdW1bc291cmNlXTsKICAgICAgICByZXR1cm4gdGVtcDIubGVuZ3RoOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9OyAvL+WvvuixoeOCqOODg+OCuOOBrui/veWKoC/liYrpmaTjgavkvLTjgYZTa2V5c+OBqGVkZ2VTTnVt44Gu5pu05pawCgoKICAgIGNvbnN0IGNoYW5nZUVkZ2VzID0gKGVkZ2UsIHR5cGUpID0+IHsKICAgICAgLy/jg4fjg7zjgr/lj5fjgZHlj5bjgooKICAgICAgdmFyIGVpZCA9IGVkZ2UuaWQ7CiAgICAgIHZhciBzb3VyY2UgPSBlZGdlLnNvdXJjZTsgLy9Ta2V5c+OBruabtOaWsAoKICAgICAgU2tleXMgPSBPYmplY3Qua2V5cyhlZGdlU051bSk7CgogICAgICBpZiAodHlwZSA9PSAiYWRkIikgewogICAgICAgIGlmIChTa2V5cy5pbmNsdWRlcyhzb3VyY2UpKSB7CiAgICAgICAgICBlZGdlU051bVtzb3VyY2VdLnB1c2goZWlkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZWRnZVNOdW1bc291cmNlXSA9IFtdOwogICAgICAgICAgZWRnZVNOdW1bc291cmNlXS5wdXNoKGVpZCk7CiAgICAgICAgfQoKICAgICAgICBTa2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VTTnVtKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgdmFyIHNhbWVFZGdlU051bSA9IGVkZ2VTTnVtW3NvdXJjZV07CgogICAgICAgIGlmIChzYW1lRWRnZVNOdW0ubGVuZ3RoID49IDIpIHsKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2FtZUVkZ2VTTnVtLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmIChzYW1lRWRnZVNOdW1bal0gPT0gZWlkKSB7CiAgICAgICAgICAgICAgZWRnZVNOdW1bc291cmNlXS5zcGxpY2UoaiwgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGVsZXRlIGVkZ2VTTnVtW3NvdXJjZV07CiAgICAgICAgICBTa2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VTTnVtKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiY2hhbmdlIikgewogICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnRzLnZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH07IC8v5a++6LGh44Oh44Kk44Kv44OO44O844OJ44Gu6L+95YqgL+WJiumZpOaZguOBrm1ha2VOb2RlTnVt44Gu5YCk44Go6KGo56S644Kk44Op44K544OI44Gu5pu05pawCgoKICAgIGNvbnN0IGNoYW5nZU1ha2VOb2RlcyA9IG5vZGVEYXRhID0+IHsKICAgICAgaWYgKG5vZGVEYXRhLnR5cGUgPT0gImFkZCIpIHsKICAgICAgICBtYWtlTm9kZU51bVtub2RlRGF0YS5pbWdOdW1dLnB1c2gobm9kZURhdGEuaWQpOwogICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnR5cGUgPT0gInJlbW92ZSIpIHsKICAgICAgICB2YXIgbGVuZ3RoTnVtID0gbWFrZU5vZGVOdW1bbm9kZURhdGEuaW1nTnVtXTsKCiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBsZW5ndGhOdW0ubGVuZ3RoOyBuKyspIHsKICAgICAgICAgIGlmIChsZW5ndGhOdW1bbl0gPT0gbm9kZURhdGEuaWQpIHsKICAgICAgICAgICAgbWFrZU5vZGVOdW1bbm9kZURhdGEuaW1nTnVtXS5zcGxpY2UobiwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfSAvL+ODoeOCpOOCr+ODjuODvOODieOBrui/veWKoC/liYrpmaTjgavkvLTjgYbooajnpLrjgqTjg6njgrnjg4jjga7mm7TmlrAKCgogICAgICBmb3IgKHZhciBsID0gMDsgbCA8IE9iamVjdC5rZXlzKG1ha2VOb2RlTnVtKS5sZW5ndGg7IGwrKykgewogICAgICAgIHZhciB0ZW1wTGVuZ3RoTnVtID0gbWFrZU5vZGVOdW1bbF07CgogICAgICAgIGlmICh0ZW1wTGVuZ3RoTnVtLmxlbmd0aCA+PSAxKSB7CiAgICAgICAgICBzdG9yZS5jb21taXQoInNldE1ha2VOb2RlTGlzdCIsIHsKICAgICAgICAgICAgaW1nTnVtOiBsLAogICAgICAgICAgICBpbWdTdGF0ZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0TWFrZU5vZGVMaXN0IiwgewogICAgICAgICAgICBpbWdOdW06IGwsCiAgICAgICAgICAgIGltZ1N0YXRlOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgLyog44OO44O844OJ44Gu5aSJ5pu05pmC44Gr55m654Gr44GZ44KL6Zai5pWwICovCgoKICAgIG9uTm9kZXNDaGFuZ2UocGFyYW1zID0+IHsKICAgICAgZm9yICh2YXIgcSA9IDA7IHEgPCBwYXJhbXMubGVuZ3RoOyBxKyspIHsKICAgICAgICBpZiAocGFyYW1zW3FdLnR5cGUgPT0gImFkZCIpIHsKICAgICAgICAgIC8v44Oh44Kk44Kv44OO44O844OJ44Gg44Gj44Gf44KJCiAgICAgICAgICBpZiAocGFyYW1zW3FdLml0ZW0udHlwZSA9PSAiY3VzdG9tTWFrZSIpIHsKICAgICAgICAgICAgdmFyIG5vZGVpdGVtcyA9IHBhcmFtc1txXS5pdGVtOwogICAgICAgICAgICB2YXIgbm9kZURhdGEgPSBub2RlaXRlbXMuZGF0YTsgLy/ljJbnsqflt6XnqIvjga7liKTlrpoKCiAgICAgICAgICAgIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDEgJiYgbm9kZURhdGEuaXRlbU51bSA9PSA4KSB7CiAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgIGltZ051bTogMCwKICAgICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgICB0eXBlOiAiYWRkIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMSAmJiBub2RlRGF0YS5pdGVtTnVtID09IDggJiYgbm9kZURhdGEudHlwZU51bSA9PSAyKSB7CiAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgIGltZ051bTogMSwKICAgICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgICB0eXBlOiAiYWRkIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMiAmJiBub2RlRGF0YS5pdGVtTnVtID09IDExKSB7CiAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgIGltZ051bTogMiwKICAgICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgICB0eXBlOiAiYWRkIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMiAmJiAxMyA8PSBub2RlRGF0YS5pdGVtTnVtICYmIG5vZGVEYXRhLml0ZW1OdW0gPD0gMTYpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiAzLAogICAgICAgICAgICAgICAgaWQ6IG5vZGVpdGVtcy5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZURhdGEucGFydE51bSA9PSAyICYmIDE3IDw9IG5vZGVEYXRhLml0ZW1OdW0gJiYgbm9kZURhdGEuaXRlbU51bSA8PSAyMCkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDQsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDQgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAyNCkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDUsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDQgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAyNSkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDYsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDAgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAyMikgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDcsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHBhcmFtc1txXS50eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgICAvL+ODoeOCpOOCr+ODjuODvOODieOBoOOBo+OBn+OCiQogICAgICAgICAgaWYgKHBhcmFtc1txXS5pZC5pbmRleE9mKCdtYWtlJykgPiAtMSkgewogICAgICAgICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgICBpZiAoaXNOb2RlKGVsKSAmJiBlbC5pZCA9PSBwYXJhbXNbcV0uaWQpIHsKICAgICAgICAgICAgICAgIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gMSAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gOCkgewogICAgICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgICAgIGltZ051bTogMCwKICAgICAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gMSAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gOCAmJiBlbC5kYXRhLnR5cGVOdW0gPT0gMikgewogICAgICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgICAgIGltZ051bTogMSwKICAgICAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gMiAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gMTEpIHsKICAgICAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgICAgICBpbWdOdW06IDIsCiAgICAgICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAicmVtb3ZlIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDIgJiYgMTMgPD0gZWwuZGF0YS5pdGVtTnVtICYmIGVsLmRhdGEuaXRlbU51bSA8PSAxNikgewogICAgICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgICAgIGltZ051bTogMywKICAgICAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gMiAmJiAxNyA8PSBlbC5kYXRhLml0ZW1OdW0gJiYgZWwuZGF0YS5pdGVtTnVtIDw9IDIwKSB7CiAgICAgICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICAgICAgaW1nTnVtOiA0LAogICAgICAgICAgICAgICAgICAgIGlkOiBwYXJhbXNbcV0uaWQsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmRhdGEucGFydE51bSA9PSA0ICYmIGVsLmRhdGEuaXRlbU51bSA9PSAyNCkgewogICAgICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgICAgIGltZ051bTogNSwKICAgICAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5kYXRhLnBhcnROdW0gPT0gNCAmJiBlbC5kYXRhLml0ZW1OdW0gPT0gMjUpIHsKICAgICAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgICAgICBpbWdOdW06IDYsCiAgICAgICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAicmVtb3ZlIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuZGF0YS5wYXJ0TnVtID09IDAgJiYgZWwuZGF0YS5pdGVtTnVtID09IDIyKSB7CiAgICAgICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICAgICAgaW1nTnVtOiA3LAogICAgICAgICAgICAgICAgICAgIGlkOiBwYXJhbXNbcV0uaWQsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICAvKiDjgqjjg4Pjgrjjga7lpInmm7TmmYLjgavnmbrngavjgZnjgovplqLmlbAgKi8KCiAgICBvbkVkZ2VzQ2hhbmdlKHBhcmFtcyA9PiB7CiAgICAgIHZhciBOdW1PZlNhbWVTb3VyY2VzOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAocGFyYW1zW2ldLnR5cGUgPT0gImFkZCIpIHsKICAgICAgICAgIC8v6L+95Yqg44GZ44KL44Ko44OD44K444Go5ZCM44GYc291cmNl44Gu44Ko44OD44K444GM5L2V5pys44GC44KL44GL6Kq/44G544KLCiAgICAgICAgICBOdW1PZlNhbWVTb3VyY2VzID0gc3VydmV5U2FtZVNvdXJjZShwYXJhbXNbaV0uaXRlbS5zb3VyY2UpOyAvL+OCqOODg+OCuOOBjOePvueKtuOBpzHmnKzku6XkuIrjgYLjgaPjgZ/jgonjgqjjg4PjgrjjgpJzbW9vdGhzdGVw44Gr5YiH44KK5pu/44GI44KLCgogICAgICAgICAgaWYgKE51bU9mU2FtZVNvdXJjZXMgPj0gMSkgewogICAgICAgICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgICBpZiAoaXNFZGdlKGVsKSAmJiBlbC5zb3VyY2UgPT0gcGFyYW1zW2ldLml0ZW0uc291cmNlKSB7CiAgICAgICAgICAgICAgICBlbC50eXBlID0gInNtb290aHN0ZXAiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXNbaV0udHlwZSA9PSAicmVtb3ZlIikgewogICAgICAgICAgdmFyIHNvdXJjZTsKICAgICAgICAgIHZhciBlZGdlRGF0YTsgLy/mtojjgZnjgqjjg4PjgrjjgajlkIzjgZhzb3VyY2Xjga7jgqjjg4PjgrjjgYzkvZXmnKzjgYLjgovjgYvoqr/jgbnjgosKCiAgICAgICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgaWYgKGVsLmlkID09IHBhcmFtc1tpXS5pZCkgewogICAgICAgICAgICAgIGVkZ2VEYXRhID0gZWw7CiAgICAgICAgICAgICAgc291cmNlID0gZWwuc291cmNlOwogICAgICAgICAgICAgIE51bU9mU2FtZVNvdXJjZXMgPSBzdXJ2ZXlTYW1lU291cmNlKHNvdXJjZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOyAvL+OCqOODg+OCuOOBjOePvueKtuOBpzLmnKzku6XkuIvjgaDjgaPjgZ/jgonjgqjjg4PjgrjjgpJzdHJhaWdodOOBq+WIh+OCiuabv+OBiOOCiwoKICAgICAgICAgIGlmIChOdW1PZlNhbWVTb3VyY2VzID09IDIpIHsKICAgICAgICAgICAgZWxlbWVudHMudmFsdWUuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgICAgaWYgKGlzRWRnZShlbCkgJiYgZWwuc291cmNlID09IHNvdXJjZSkgewogICAgICAgICAgICAgICAgZWwudHlwZSA9ICJzdHJhaWdodCI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsgLy9lZGdlTGlzdOOBrueKtuaFi+WkieabtAoKICAgICAgICAgICAgY2hhbmdlRWRnZXMoZWRnZURhdGEsICJjaGFuZ2UiKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICAvKiDjgqjjg4Pjgrjjga7ov73liqDmmYLjgavnmbrngavjgZnjgovplqLmlbAgKi8KCiAgICBvbkNvbm5lY3QocGFyYW1zID0+IHsKICAgICAgY29uc29sZS5sb2coIuOCqOODg+OCuOOBrui/veWKoCIpOyAvL+i/veWKoOOBmeOCi+OCqOODg+OCuOOCkmVkZ2VTTnVt44Gr6L+95Yqg44GX44Gm77yM5ZCM44GY44K944O844K544Gu44Ko44OD44K444Gu5pys5pWw44KS5Y+W5b6X44GZ44KLCgogICAgICB2YXIgTnVtT2ZFZGdlOwogICAgICBTa2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VTTnVtKTsKCiAgICAgIGlmIChTa2V5cy5pbmNsdWRlcyhwYXJhbXMuc291cmNlKSkgewogICAgICAgIGVkZ2VTTnVtW3BhcmFtcy5zb3VyY2VdLnB1c2gocGFyYW1zLmlkKTsKICAgICAgICBOdW1PZkVkZ2UgPSBzdXJ2ZXlTYW1lU291cmNlKHBhcmFtcy5zb3VyY2UpICsgMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlZGdlU051bVtwYXJhbXMuc291cmNlXSA9IFtdOwogICAgICAgIGVkZ2VTTnVtW3BhcmFtcy5zb3VyY2VdLnB1c2gocGFyYW1zLmlkKTsKICAgICAgICBOdW1PZkVkZ2UgPSAxOwogICAgICAgIFNrZXlzID0gT2JqZWN0LmtleXMoZWRnZVNOdW0pOwogICAgICB9IC8v5paw44GX44GE44Ko44OD44K444Gu6L+95YqgCgoKICAgICAgdmFyIG5ld0VkZ2U7CgogICAgICBjb25zdCBnZXRFZGdlSWQgPSAoKSA9PiBgZSR7cGFyYW1zLnNvdXJjZX1fJHtwYXJhbXMudGFyZ2V0fWA7CgogICAgICBpZiAocGFyYW1zLnNvdXJjZS5pbmRleE9mKCdtYWtlJykgPiAtMSkgewogICAgICAgIC8vY3VzdG9tTWFrZeOBoOOBo+OBn+OCiQogICAgICAgIG5ld0VkZ2UgPSB7CiAgICAgICAgICBpZDogZ2V0RWRnZUlkKCksCiAgICAgICAgICBzb3VyY2U6IHBhcmFtcy5zb3VyY2UsCiAgICAgICAgICB0YXJnZXQ6IHBhcmFtcy50YXJnZXQsCiAgICAgICAgICB0eXBlOiBOdW1PZkVkZ2UgPiAxID8gJ3Ntb290aHN0ZXAnIDogJ3N0cmFpZ2h0JywKICAgICAgICAgIG1hcmtlckVuZDogTWFya2VyVHlwZS5BcnJvd0Nsb3NlZCwKICAgICAgICAgIHVwZGF0YWJsZTogdHJ1ZSwKICAgICAgICAgIGV2ZW50czogewogICAgICAgICAgICBjbGljazogZXZlbnQgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmVkZ2UubGFiZWwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmIChwYXJhbXMuc291cmNlLmluZGV4T2YoJ2JyYW5jaCcpID4gLTEpIHsKICAgICAgICAvL2N1c3RvbUJyYW5jaOOBoOOBo+OBn+OCiQogICAgICAgIG5ld0VkZ2UgPSB7CiAgICAgICAgICBpZDogZ2V0RWRnZUlkKCksCiAgICAgICAgICBzb3VyY2U6IHBhcmFtcy5zb3VyY2UsCiAgICAgICAgICB0YXJnZXQ6IHBhcmFtcy50YXJnZXQsCiAgICAgICAgICBsYWJlbDogZWRnZVNOdW0gJSAyID09IDAgPyAiTm8iIDogIlllcyIsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBzdHJva2U6ICdyZWQnCiAgICAgICAgICB9LAogICAgICAgICAgbGFiZWxTdHlsZTogewogICAgICAgICAgICBmaWxsOiAnd2hpdGUnCiAgICAgICAgICB9LAogICAgICAgICAgbGFiZWxCZ1N0eWxlOiB7CiAgICAgICAgICAgIGZpbGw6IGVkZ2VTTnVtICUgMiA9PSAwID8gJ2JsdWUnIDogJ3JlZCcKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAnc21vb3Roc3RlcCcsCiAgICAgICAgICBtYXJrZXJFbmQ6IE1hcmtlclR5cGUuQXJyb3dDbG9zZWQsCiAgICAgICAgICB1cGRhdGFibGU6IHRydWUsCiAgICAgICAgICBldmVudHM6IHsKICAgICAgICAgICAgY2xpY2s6IGV2ZW50ID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC5lZGdlLmxhYmVsKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9pbnB1dC9vdXRwdXTjgaDjgaPjgZ/jgokKICAgICAgICBuZXdFZGdlID0gewogICAgICAgICAgaWQ6IGdldEVkZ2VJZCgpLAogICAgICAgICAgc291cmNlOiBwYXJhbXMuc291cmNlLAogICAgICAgICAgdGFyZ2V0OiBwYXJhbXMudGFyZ2V0LAogICAgICAgICAgdHlwZTogTnVtT2ZFZGdlID4gMSA/ICdzbW9vdGhzdGVwJyA6ICdzdHJhaWdodCcsCiAgICAgICAgICBtYXJrZXJFbmQ6IE1hcmtlclR5cGUuQXJyb3dDbG9zZWQsCiAgICAgICAgICB1cGRhdGFibGU6IHRydWUKICAgICAgICB9OwogICAgICB9CgogICAgICBhZGRFZGdlcyhbbmV3RWRnZV0pOwogICAgfSk7CiAgICAvKiDjg57jgqbjgrnmk43kvZzjgavntZDjgbPjgaTjgZHjgZ/plqLmlbAgKi8KICAgIC8v44OO44O844OJ44Gu44OJ44Op44OD44Kw5pON5L2cCgogICAgY29uc3Qgb25EcmFnT3ZlciA9IGV2ZW50ID0+IHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHsKICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJzsKICAgICAgfQogICAgfTsgLy/jg47jg7zjg4njga7jg4njg63jg4Pjg5fjgavjgojjgovvvIzmlrDopo/jg47jg7zjg4njga7ov73liqAKCgogICAgbGV0IGlkID0gMDsKCiAgICBjb25zdCBzc19nZXRJZCA9ICgpID0+IGBzc18ke2lkKyt9YDsKCiAgICBjb25zdCBtX2dldElkID0gKCkgPT4gYG1ha2VfJHtpZCsrfWA7CgogICAgY29uc3QgYl9nZXRJZCA9ICgpID0+IGBicmFuY2hfJHtpZCsrfWA7CgogICAgY29uc3Qgb25Ecm9wID0gZXZlbnQgPT4gewogICAgICB2YXIgX2V2ZW50JGRhdGFUcmFuc2ZlcjsKCiAgICAgIGNvbnN0IHR5cGUgPSAoX2V2ZW50JGRhdGFUcmFuc2ZlciA9IGV2ZW50LmRhdGFUcmFuc2ZlcikgPT09IG51bGwgfHwgX2V2ZW50JGRhdGFUcmFuc2ZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JGRhdGFUcmFuc2Zlci5nZXREYXRhKCdhcHBsaWNhdGlvbi92dWVmbG93Jyk7CiAgICAgIGNvbnN0IHBvc2l0aW9uID0gcHJvamVjdCh7CiAgICAgICAgeDogZXZlbnQuY2xpZW50WCAtIDQwMCwKICAgICAgICB5OiBldmVudC5jbGllbnRZIC0gMTUwCiAgICAgIH0pOwogICAgICB2YXIgbmV3Tm9kZTsKCiAgICAgIGlmICh0eXBlID09ICdpbnB1dCcgfHwgdHlwZSA9PSAnb3V0cHV0JykgewogICAgICAgIC8v6ZaL5aeL44OO44O844OJ44GL57WC5LqG44OO44O844OJCiAgICAgICAgbmV3Tm9kZSA9IHsKICAgICAgICAgIGlkOiBzc19nZXRJZCgpLAogICAgICAgICAgdHlwZSwKICAgICAgICAgIHBvc2l0aW9uLAogICAgICAgICAgbGFiZWw6IHR5cGUgPT0gJ2lucHV0JyA/IGDjg6HjgqTjgq/plovlp4tgIDogYOODoeOCpOOCr+e1guS6hmAKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIG5ld05vZGUgPSB7CiAgICAgICAgICBpZDogdHlwZSA9PSAnY3VzdG9tTWFrZScgPyBtX2dldElkKCkgOiBiX2dldElkKCksCiAgICAgICAgICB0eXBlLAogICAgICAgICAgcG9zaXRpb24sCiAgICAgICAgICBsYWJlbDogc3RvcmUuc3RhdGUuaXRlbU5hbWUgKyAiKCIgKyBzdG9yZS5zdGF0ZS50eXBlTmFtZSArICIpIiwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgcGFydE5hbWU6IHN0b3JlLnN0YXRlLnBhcnROYW1lLAogICAgICAgICAgICBwYXJ0TnVtOiBzdG9yZS5zdGF0ZS5wYXJ0TnVtLAogICAgICAgICAgICBpdGVtTmFtZTogc3RvcmUuc3RhdGUuaXRlbU5hbWUsCiAgICAgICAgICAgIGl0ZW1OdW06IHN0b3JlLnN0YXRlLml0ZW1OdW0sCiAgICAgICAgICAgIHR5cGVOYW1lOiBzdG9yZS5zdGF0ZS50eXBlTmFtZSwKICAgICAgICAgICAgdHlwZU51bTogc3RvcmUuc3RhdGUudHlwZU51bQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGFkZE5vZGVzKFtuZXdOb2RlXSk7CiAgICB9OwogICAgLyogdnVlRmxvd+S4iuOBruODnOOCv+ODs+aTjeS9nCAqLwogICAgLy/nj77lnKjjga52aWV3cGFuZeOBruWkieaPmyAo44K644O844Og44Go44OR44OzKSDjgpLjg6rjgrvjg4Pjg4gKCgogICAgY29uc3QgcmVzZXRUcmFucyA9ICgpID0+IHsKICAgICAgc2V0VHJhbnNmb3JtKHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgICAgem9vbTogMQogICAgICB9KTsKICAgIH07IC8v44OO44O844OJ44Gu5L2N572u44KS44Op44Oz44OA44Og44Gr5pu05pawCgoKICAgIGNvbnN0IHVwZGF0ZVBvcyA9ICgpID0+IHsKICAgICAgZWxlbWVudHMudmFsdWUuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgaWYgKGlzTm9kZShlbCkpIHsKICAgICAgICAgIGVsLnBvc2l0aW9uID0gewogICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogNDAwLAogICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogNDAwCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OyAvL3RvT2JqZWN044Gv44CB54++5Zyo44Gu44Kw44Op44OV44OH44O844K/44KS57Ch5Y2Y44Gr5rC457aa5YyW44Gn44GN44KL44Kq44OW44K444Kn44Kv44OI44Gr5aSJ5o+bCgoKICAgIGNvbnN0IGxvZ1RvT2JqZWN0ID0gKCkgPT4gewogICAgICBjb25zb2xlLmxvZyh0b09iamVjdCgpKTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnLi4vcGhwL2Zsb3djaGFydF9wb3N0LnBocCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHVzZXJOYW1lOiAidGFrYW5vIiwKICAgICAgICAgIGZsb3djaGFydDogSlNPTi5zdHJpbmdpZnkodG9PYmplY3QoKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIC8v5LiK5omL44GP6KGM44Gj44Gf5pmCCiAgICAgICAgY29uc29sZS5sb2coJ3N0YXR1czonLCByZXNwb25zZS5zdGF0dXMpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgLy/lpLHmlZfjgZfjgZ/mmYIKICAgICAgICBjb25zb2xlLmxvZygnZXJyOicsIGVycm9yKTsKICAgICAgfSk7CiAgICB9OyAvL+OCqOODg+OCuOOBruODqeODmeODq+OBruabtOaWsO+8iOS7ru+8iQoKCiAgICBjb25zdCB1cGRhdGVMYWJlbCA9IGNvbXB1dGVkKHsKICAgICAgZ2V0OiAoKSA9PiBzdG9yZS5zdGF0ZS5sYWJlbCwKICAgICAgc2V0OiB2YWx1ZSA9PiBzdG9yZS5jb21taXQoInNldExhYmVsIiwgdmFsdWUpCiAgICB9KTsKICAgIGNvbnN0IF9fcmV0dXJuZWRfXyA9IHsKICAgICAgb25QYW5lUmVhZHksCiAgICAgIG9uQ29ubmVjdCwKICAgICAgb25FZGdlc0NoYW5nZSwKICAgICAgb25Ob2Rlc0NoYW5nZSwKICAgICAgYWRkRWRnZXMsCiAgICAgIGFkZE5vZGVzLAogICAgICBzZXRUcmFuc2Zvcm0sCiAgICAgIHRvT2JqZWN0LAogICAgICBwcm9qZWN0LAogICAgICBlbGVtZW50cywKICAgICAgbm9kZVR5cGVzLAogICAgICBzdG9yZSwKICAgICAgU2tleXMsCiAgICAgIGVkZ2VTTnVtLAogICAgICBtYWtlTm9kZU51bSwKICAgICAgb3B0aW9ucywKICAgICAgdnVlQ29udGV4dE1lbnUsCiAgICAgIGhhbmRsZUNsaWNrLAogICAgICBzZWxlY3RNZW51LAogICAgICBvcHRpb25DbGlja2VkLAogICAgICBvbkxvYWQsCiAgICAgIHN1cnZleVNhbWVTb3VyY2UsCiAgICAgIGNoYW5nZUVkZ2VzLAogICAgICBjaGFuZ2VNYWtlTm9kZXMsCiAgICAgIG9uRHJhZ092ZXIsCiAgICAgIGlkLAogICAgICBzc19nZXRJZCwKICAgICAgbV9nZXRJZCwKICAgICAgYl9nZXRJZCwKICAgICAgb25Ecm9wLAogICAgICByZXNldFRyYW5zLAogICAgICB1cGRhdGVQb3MsCiAgICAgIGxvZ1RvT2JqZWN0LAogICAgICB1cGRhdGVMYWJlbCwKICAgICAgQmFja2dyb3VuZCwKICAgICAgQ29udHJvbHMsCiAgICAgIE1pbmlNYXAsCiAgICAgIFZ1ZUZsb3csCiAgICAgIGlzTm9kZSwKICAgICAgaXNFZGdlLAogICAgICBNYXJrZXJUeXBlLAogICAgICBDb25uZWN0aW9uTW9kZSwKICAgICAgdXNlVnVlRmxvdywKICAgICAgY29tcHV0ZWQsCiAgICAgIG1hcmtSYXcsCiAgICAgIHJlZiwKICAgICAgdXNlU3RvcmUsCiAgICAgIHRlc3RJbml0aWFsRWxlbWVudHMsCiAgICAgIE1ha2VOb2RlLAogICAgICBCcmFuY2hOb2RlLAogICAgICBOb2RlU2V0dGluZ3MsCiAgICAgIEZhY2VJbWFnZSwKICAgICAgTm9kZUZpZWxkLAogICAgICBUb3BNZW51LAogICAgICBWdWVTaW1wbGVDb250ZXh0TWVudQogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KCn07"},{"version":3,"mappings":"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","names":["Background","Controls","MiniMap","VueFlow","isNode","isEdge","MarkerType","ConnectionMode","useVueFlow","computed","markRaw","ref","useStore","testInitialElements","MakeNode","BranchNode","NodeSettings","FaceImage","NodeField","TopMenu","VueSimpleContextMenu","onPaneReady","onConnect","onEdgesChange","onNodesChange","addEdges","addNodes","setTransform","toObject","project","elements","nodeTypes","customMake","customBranch","store","Skeys","edgeSNum","makeNodeNum","options","name","slug","vueContextMenu","handleClick","event","Object","defineProperty","value","pageX","writable","pageY","showMenu","selectMenu","params","commit","nodes","optionClicked","copyNode","copyNodesData","state","selectnodeList","s","length","copyNodeData","type","id","ss_getId","position","x","y","label","m_getId","b_getId","data","fitView","onLoad","flowInstance","surveySameSource","source","includes","temp2","changeEdges","edge","eid","keys","push","sameEdgeSNum","j","splice","console","log","changeMakeNodes","nodeData","imgNum","lengthNum","n","l","tempLengthNum","imgState","q","item","nodeitems","partNum","itemNum","typeNum","indexOf","forEach","el","NumOfSameSources","i","edgeData","NumOfEdge","newEdge","getEdgeId","target","markerEnd","ArrowClosed","updatable","events","click","style","stroke","labelStyle","fill","labelBgStyle","onDragOver","preventDefault","dataTransfer","dropEffect","onDrop","getData","clientX","clientY","newNode","itemName","typeName","partName","resetTrans","zoom","updatePos","Math","random","logToObject","$axios","post","userName","flowchart","JSON","stringify","then","response","status","catch","error","updateLabel","get","set"],"sources":["/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue"],"sourcesContent":["<script setup>\nimport { Background, Controls, MiniMap, VueFlow, isNode, isEdge, MarkerType, ConnectionMode, useVueFlow, } from '@braks/vue-flow'\nimport { computed, markRaw, ref,} from 'vue'\nimport { useStore } from 'vuex'\nimport { testInitialElements } from '../js/initial-elements.js'\n//カスタムノードの追加\nimport MakeNode from '@/components/MakeNode.vue'\nimport BranchNode from '@/components/BranchNode.vue'\n//子コンポーネントの追加\nimport NodeSettings from '@/components/NodeSettings.vue'\nimport FaceImage from '@/components/FaceImage.vue'\nimport NodeField from '@/components/NodeField.vue'\nimport TopMenu from '@/components/TopMenu.vue'\n//ライブラリの追加\nimport VueSimpleContextMenu from 'vue-simple-context-menu';\nimport 'vue-simple-context-menu/dist/vue-simple-context-menu.css';\n\n//初期設定\n/* vue-flowの初期設定 */\nconst { onPaneReady, onConnect, onEdgesChange, onNodesChange, addEdges, addNodes, setTransform, toObject, project, } = useVueFlow()\nconst elements = ref(testInitialElements)\nconst nodeTypes = {\n  customMake: markRaw(MakeNode),\n  customBranch: markRaw(BranchNode),\n}\n/* storeの開始 */\nconst store = useStore()\n/* ノードの管理変数 */\nvar Skeys = [] //source\nvar edgeSNum = [] //sourceから見たedgeの重複 source:[id]\nvar makeNodeNum = {0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: []} //imgNum:[id]\n/* vue-simple-context-menuの初期設定 */\nconst options = [{name: \"Copy\", slug: \"copy\"}]\nconst vueContextMenu = ref(testInitialElements)\n\n\n/* vue-simple-context-menuの関数 */\nconst handleClick =  (event) => {\n  // overwrite readonly properties pageX and pageY and set correct values\n  Object.defineProperty(event, 'pageX', {\n    value: event.pageX - 350,\n    writable: true\n  })\n  Object.defineProperty(event, 'pageY', {\n    value: event.pageY - 100,\n    writable: true\n  })\n  vueContextMenu.value.showMenu(event)\n}\n//コンテキストメニューを呼び出す\nconst selectMenu = (params) => {\n  store.commit(\"setSelectNodeList\", params.nodes)\n}\n//コンテキストメニューのクリック\nconst optionClicked = () => {\n  var copyNode\n  var copyNodesData = store.state.selectnodeList\n  for(var s=0; s<copyNodesData.length; s++){\n    var copyNodeData = store.state.selectnodeList[s]\n    if(copyNodeData.type == 'input' || copyNodeData.type == 'output'){\n      //開始ノードか終了ノード\n      copyNode = {\n        id: ss_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n      }\n    }else{\n      copyNode = {\n        id: copyNodeData.type == 'customMake' ? m_getId() : b_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n        data: copyNodeData.data,\n      }\n    }\n    addNodes([copyNode])\n  }\n}\n\n/* 起動時の挙動 */\n//onPaneReadyは、viewpaneとノードに表示可能なディメンションがある場合に呼び出されます\nonPaneReady(({fitView}) => {\n  fitView()\n})\nconst onLoad = (flowInstance) => flowInstance.fitView()\n\n/* 対象のノードとエッジの調査 */\n//対象エッジと同じノードから出ているエッジの本数を返す(return)\nconst surveySameSource = (source) => {\n  if(Skeys.includes(source)){\n    var temp2 = edgeSNum[source]\n    return temp2.length\n  }else{\n    return 0\n  }\n}\n//対象エッジの追加/削除に伴うSkeysとedgeSNumの更新\nconst changeEdges = (edge, type) => {\n  //データ受け取り\n  var eid = edge.id\n  var source = edge.source\n  //Skeysの更新\n  Skeys = Object.keys(edgeSNum)\n  if(type == \"add\"){\n    if(Skeys.includes(source)){\n      edgeSNum[source].push(eid)\n    }else{\n      edgeSNum[source] = []\n      edgeSNum[source].push(eid)\n    }\n    Skeys = Object.keys(edgeSNum)\n  }else if(type == \"remove\"){\n    var sameEdgeSNum = edgeSNum[source]\n    if(sameEdgeSNum.length >= 2){\n      for(var j=0; j<sameEdgeSNum.length; j++){\n        if(sameEdgeSNum[j] == eid){\n          edgeSNum[source].splice(j, 1)\n        }\n      }\n    }else{\n      delete edgeSNum[source]\n      Skeys = Object.keys(edgeSNum)\n    }\n  }else if(type == \"change\"){\n    console.log(elements.value)\n  }else{\n    return\n  }\n}\n//対象メイクノードの追加/削除時のmakeNodeNumの値と表示イラストの更新\nconst changeMakeNodes = (nodeData) => {\n  if(nodeData.type == \"add\"){\n    makeNodeNum[nodeData.imgNum].push(nodeData.id)\n  }else if(nodeData.type == \"remove\"){\n    var lengthNum = makeNodeNum[nodeData.imgNum]\n    for(var n=0; n<lengthNum.length; n++){\n      if(lengthNum[n] == nodeData.id){\n        makeNodeNum[nodeData.imgNum].splice(n, 1)\n      }\n    }\n  }else{\n    return\n  }\n\n  //メイクノードの追加/削除に伴う表示イラストの更新\n  for(var l=0; l<Object.keys(makeNodeNum).length; l++){\n    var tempLengthNum = makeNodeNum[l]\n    if(tempLengthNum.length >= 1){\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: true})\n    }else{\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: false})\n    }\n  }\n}\n\n/* ノードの変更時に発火する関数 */\nonNodesChange((params) => {\n  for(var q=0; q<params.length; q++){\n    if(params[q].type == \"add\"){\n      //メイクノードだったら\n      if(params[q].item.type == \"customMake\"){\n        var nodeitems = params[q].item\n        var nodeData = nodeitems.data\n        //化粧工程の判定\n        if(nodeData.partNum == 1 && nodeData.itemNum == 8){\n          changeMakeNodes({imgNum: 0, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 1 && nodeData.itemNum == 8 && nodeData.typeNum == 2){\n          changeMakeNodes({imgNum: 1, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && nodeData.itemNum == 11){\n          changeMakeNodes({imgNum: 2, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && (13 <= nodeData.itemNum && nodeData.itemNum <= 16)){\n          changeMakeNodes({imgNum: 3, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && (17 <= nodeData.itemNum && nodeData.itemNum <= 20)){\n          changeMakeNodes({imgNum: 4, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 4 && nodeData.itemNum == 24){\n          changeMakeNodes({imgNum: 5, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 4 && nodeData.itemNum == 25){\n          changeMakeNodes({imgNum: 6, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 0 && nodeData.itemNum == 22){\n          changeMakeNodes({imgNum: 7, id: nodeitems.id, type: \"add\"})\n        }else{\n          return\n        }\n      }\n    }else if(params[q].type == \"remove\"){\n      //メイクノードだったら\n      if(params[q].id.indexOf('make') > -1){\n        elements.value.forEach((el) => {\n          if(isNode(el) && el.id == params[q].id){\n            if(el.data.partNum == 1 && el.data.itemNum == 8){\n              changeMakeNodes({imgNum: 0, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 1 && el.data.itemNum == 8 && el.data.typeNum == 2){\n              changeMakeNodes({imgNum: 1, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 2 && el.data.itemNum == 11){\n              changeMakeNodes({imgNum: 2, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 2 && (13 <= el.data.itemNum && el.data.itemNum <= 16)){\n              changeMakeNodes({imgNum: 3, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 2 && (17 <= el.data.itemNum && el.data.itemNum <= 20)){\n              changeMakeNodes({imgNum: 4, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 4 && el.data.itemNum == 24){\n              changeMakeNodes({imgNum: 5, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 4 && el.data.itemNum == 25){\n              changeMakeNodes({imgNum: 6, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 0 && el.data.itemNum == 22){\n              changeMakeNodes({imgNum: 7, id: params[q].id, type: \"remove\"})\n            }else{\n              return\n            }\n          }\n        })\n      }\n    }else{\n      return\n    }\n  }\n})\n/* エッジの変更時に発火する関数 */\nonEdgesChange((params) => {\n  var NumOfSameSources\n  for(var i=0; i<params.length; i++){\n    if(params[i].type == \"add\"){\n     //追加するエッジと同じsourceのエッジが何本あるか調べる\n     NumOfSameSources = surveySameSource(params[i].item.source)\n     //エッジが現状で1本以上あったらエッジをsmoothstepに切り替える\n     if(NumOfSameSources >= 1){\n       elements.value.forEach((el) => {\n         if (isEdge(el) && el.source == params[i].item.source) {\n           el.type = \"smoothstep\"\n         }\n       })\n     }\n    }else if(params[i].type == \"remove\"){\n      var source\n      var edgeData\n      //消すエッジと同じsourceのエッジが何本あるか調べる\n      elements.value.forEach((el) => {\n        if (el.id == params[i].id) {\n          edgeData = el\n          source = el.source\n          NumOfSameSources = surveySameSource(source)\n        }\n      })\n      //エッジが現状で2本以下だったらエッジをstraightに切り替える\n      if(NumOfSameSources == 2){\n        elements.value.forEach((el) => {\n          if (isEdge(el) && el.source == source) {\n            el.type = \"straight\"\n          }\n        })\n        //edgeListの状態変更\n        changeEdges(edgeData, \"change\")\n      }\n    }else{\n      return\n    }\n  }\n})\n/* エッジの追加時に発火する関数 */\nonConnect((params) => {\n  console.log(\"エッジの追加\")\n  //追加するエッジをedgeSNumに追加して，同じソースのエッジの本数を取得する\n  var NumOfEdge\n  Skeys = Object.keys(edgeSNum)\n  if(Skeys.includes(params.source)){\n    edgeSNum[params.source].push(params.id)\n    NumOfEdge = surveySameSource(params.source) +1\n  }else{\n    edgeSNum[params.source] = []\n    edgeSNum[params.source].push(params.id)\n    NumOfEdge = 1\n    Skeys = Object.keys(edgeSNum)\n  }\n\n  //新しいエッジの追加\n  var newEdge\n  const getEdgeId = () => `e${params.source}_${params.target}`\n  if(params.source.indexOf('make') > -1){\n    //customMakeだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n      events: {\n        click: (event) => {\n          console.log(event.edge.label)\n        },\n      }\n    }\n  }else if(params.source.indexOf('branch') > -1){\n    //customBranchだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      label: edgeSNum%2 == 0 ? \"No\" : \"Yes\",\n      style: { stroke: 'red' },\n      labelStyle: { fill: 'white' },\n      labelBgStyle: { fill: edgeSNum%2 == 0 ? 'blue' : 'red' },\n      type: 'smoothstep',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n      events: {\n        click: (event) => {\n          console.log(event.edge.label)\n        },\n      }\n    }\n  }else{\n    //input/outputだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n    }\n  }\n  addEdges([newEdge])\n})\n\n/* マウス操作に結びつけた関数 */\n//ノードのドラッグ操作\nconst onDragOver = (event) => {\n  event.preventDefault()\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = 'move'\n  }\n}\n//ノードのドロップによる，新規ノードの追加\nlet id = 0\nconst ss_getId = () => `ss_${id++}`\nconst m_getId = () => `make_${id++}`\nconst b_getId = () => `branch_${id++}`\nconst onDrop = (event) => {\n  const type = event.dataTransfer?.getData('application/vueflow')\n  const position = project({ x: event.clientX - 400, y: event.clientY - 150 })\n  var newNode\n  if(type == 'input' || type == 'output'){\n    //開始ノードか終了ノード\n    newNode = {\n      id: ss_getId(), type, position,\n      label: type == 'input' ? `メイク開始` : `メイク終了`,\n    }\n  }else{\n    newNode = {\n      id: type == 'customMake' ? m_getId() : b_getId(),\n      type, position,\n      label: store.state.itemName+\"(\"+store.state.typeName+\")\",\n      data: {\n        partName: store.state.partName,\n        partNum: store.state.partNum,\n        itemName: store.state.itemName,\n        itemNum: store.state.itemNum,\n        typeName: store.state.typeName,\n        typeNum: store.state.typeNum,\n      }\n    }\n  }\n  addNodes([newNode])\n}\n\n/* vueFlow上のボタン操作 */\n//現在のviewpaneの変換 (ズームとパン) をリセット\nconst resetTrans = () => {\n  setTransform({ x: 0, y: 0, zoom: 1 })\n}\n//ノードの位置をランダムに更新\nconst updatePos = () => {\n  elements.value.forEach((el) => {\n    if (isNode(el)) {\n      el.position = {\n        x: Math.random() * 400,\n        y: Math.random() * 400,\n      }\n    }\n  })\n}\n//toObjectは、現在のグラフデータを簡単に永続化できるオブジェクトに変換\nconst logToObject = () => {\n  console.log(toObject())\n  this.$axios.post('../php/flowchart_post.php', {\n    params: {\n      userName: \"takano\" ,\n      flowchart: JSON.stringify(toObject()),\n    }\n  })\n  .then((response)=>{\n    //上手く行った時\n    console.log('status:',response.status)\n  }).catch((error)=>{\n    //失敗した時\n    console.log('err:',error)\n  })\n}\n//エッジのラベルの更新（仮）\nconst updateLabel = computed({\n  get: () => store.state.label,\n  set: (value) => store.commit(\"setLabel\", value)\n})\n</script>\n\n<template>\n  <TopMenu />\n  <div class=\"dndflow\" @drop=\"onDrop\">\n    <div class=\"sidemenu\">\n      <FaceImage />\n      <NodeSettings />\n      <NodeField />\n    </div>\n    <VueFlow\n      class=\"basicflow\" v-model=\"elements\"\n      :node-types=\"nodeTypes\" :default-zoom=\"1.2\" :min-zoom=\"0.2\" :max-zoom=\"4\"\n      :fit-view-on-init=\"true\" :snap-to-grid=\"true\" :connection-mode=\"ConnectionMode.Loose\"\n      @dragover=\"onDragOver\" @pane-ready=\"onLoad\" @selection-context-menu=\"selectMenu\"\n      @contextmenu.prevent.stop=\"handleClick($event)\"\n    >\n      <Background pattern-color=\"#000000\" gap=\"8\" />\n      <MiniMap />\n      <Controls />\n      <div class=\"controls\">\n        <button style=\"background-color: #191970; color: white;\" @click=\"resetTrans\">reset transform</button>\n        <button style=\"background-color: #8a2be2; color: white;\" @click=\"updatePos\">update positions</button>\n        <button @click=\"logToObject\">log toObject</button>\n      </div>\n      <div class=\"updateEdge__controls\">\n        <label>label:</label>\n        <input v-model=\"updateLabel\"/>\n        <button @click=\"onEdgeUpdate\">決定</button>\n      </div>\n      <!--カスタムノードの設定-->\n      <template #node-Make=\"props\">\n        <MakeNode v-bind=\"props\" />\n      </template>\n      <template #node-Branch=\"props\">\n        <BranchNode v-bind=\"props\" />\n      </template>\n      <!--context-menuの設定-->\n      <vue-simple-context-menu\n        element-id=\"myUniqueId\"\n        :options=\"options\"\n        ref=\"vueContextMenu\"\n        @option-clicked=\"optionClicked\"\n      />\n    </VueFlow>\n  </div>\n</template>\n\n<style>\n@import '../css/flowchart.css';\n</style>"]}]}