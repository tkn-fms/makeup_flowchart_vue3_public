{"remainingRequest":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue?vue&type=template&id=039c5b43","dependencies":[{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue","mtime":1663494914751},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1663381957340},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/babel-loader/lib/index.js","mtime":1663381957251},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1663381993401},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/cache-loader/dist/cjs.js","mtime":1663381957340},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/node_modules/vue-loader-v16/dist/index.js","mtime":1663381993401}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPFRvcE1lbnUgLz4KICA8ZGl2IGNsYXNzPSJkbmRmbG93IiBAZHJvcD0ib25Ecm9wIj4KICAgIDxkaXYgY2xhc3M9InNpZGVtZW51Ij4KICAgICAgPEZhY2VJbWFnZSAvPgogICAgICA8Tm9kZVNldHRpbmdzIC8+CiAgICAgIDxOb2RlRmllbGQgLz4KICAgIDwvZGl2PgogICAgPFZ1ZUZsb3cKICAgICAgY2xhc3M9ImJhc2ljZmxvdyIgdi1tb2RlbD0iZWxlbWVudHMiCiAgICAgIDpub2RlLXR5cGVzPSJub2RlVHlwZXMiIDpkZWZhdWx0LXpvb209IjEuMiIgOm1pbi16b29tPSIwLjIiIDptYXgtem9vbT0iNCIKICAgICAgOmZpdC12aWV3LW9uLWluaXQ9InRydWUiIDpzbmFwLXRvLWdyaWQ9InRydWUiIDpjb25uZWN0aW9uLW1vZGU9IkNvbm5lY3Rpb25Nb2RlLkxvb3NlIgogICAgICBAZHJhZ292ZXI9Im9uRHJhZ092ZXIiIEBwYW5lLXJlYWR5PSJvbkxvYWQiIEBzZWxlY3Rpb24tY29udGV4dC1tZW51PSJzZWxlY3RNZW51IgogICAgICBAY29udGV4dG1lbnUucHJldmVudC5zdG9wPSJoYW5kbGVDbGljaygkZXZlbnQpIgogICAgPgogICAgICA8QmFja2dyb3VuZCBwYXR0ZXJuLWNvbG9yPSIjMDAwMDAwIiBnYXA9IjgiIC8+CiAgICAgIDxNaW5pTWFwIC8+CiAgICAgIDxDb250cm9scyAvPgogICAgICA8ZGl2IGNsYXNzPSJjb250cm9scyI+CiAgICAgICAgPGJ1dHRvbiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjogIzE5MTk3MDsgY29sb3I6IHdoaXRlOyIgQGNsaWNrPSJyZXNldFRyYW5zIj5yZXNldCB0cmFuc2Zvcm08L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjOGEyYmUyOyBjb2xvcjogd2hpdGU7IiBAY2xpY2s9InVwZGF0ZVBvcyI+dXBkYXRlIHBvc2l0aW9uczwvYnV0dG9uPgogICAgICAgIDxidXR0b24gQGNsaWNrPSJsb2dUb09iamVjdCI+bG9nIHRvT2JqZWN0PC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJ1cGRhdGVFZGdlX19jb250cm9scyI+CiAgICAgICAgPGxhYmVsPmxhYmVsOjwvbGFiZWw+CiAgICAgICAgPGlucHV0IHYtbW9kZWw9InVwZGF0ZUxhYmVsIi8+CiAgICAgICAgPGJ1dHRvbiBAY2xpY2s9Im9uRWRnZVVwZGF0ZSI+5rG65a6aPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8IS0t44Kr44K544K/44Og44OO44O844OJ44Gu6Kit5a6aLS0+CiAgICAgIDx0ZW1wbGF0ZSAjbm9kZS1NYWtlPSJwcm9wcyI+CiAgICAgICAgPE1ha2VOb2RlIHYtYmluZD0icHJvcHMiIC8+CiAgICAgIDwvdGVtcGxhdGU+CiAgICAgIDx0ZW1wbGF0ZSAjbm9kZS1CcmFuY2g9InByb3BzIj4KICAgICAgICA8QnJhbmNoTm9kZSB2LWJpbmQ9InByb3BzIiAvPgogICAgICA8L3RlbXBsYXRlPgogICAgICA8IS0tY29udGV4dC1tZW5144Gu6Kit5a6aLS0+CiAgICAgIDx2dWUtc2ltcGxlLWNvbnRleHQtbWVudQogICAgICAgIGVsZW1lbnQtaWQ9Im15VW5pcXVlSWQiCiAgICAgICAgOm9wdGlvbnM9Im9wdGlvbnMiCiAgICAgICAgcmVmPSJ2dWVDb250ZXh0TWVudSIKICAgICAgICBAb3B0aW9uLWNsaWNrZWQ9Im9wdGlvbkNsaWNrZWQiCiAgICAgIC8+CiAgICA8L1Z1ZUZsb3c+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue"],"names":[],"mappings":";EAuZE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACV,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChD;MACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MACX,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACnD,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1C,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;MAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/takanosayaka/Documents/GitHub/makeup_flowchart_vue3/src/views/About.vue","sourceRoot":"","sourcesContent":["<script setup>\nimport { Background, Controls, MiniMap, VueFlow, isNode, isEdge, MarkerType, ConnectionMode, useVueFlow, } from '@braks/vue-flow'\nimport { computed, markRaw, ref,} from 'vue'\nimport { useStore } from 'vuex'\nimport { testInitialElements } from '../js/initial-elements.js'\n//カスタムノードの追加\nimport MakeNode from '@/components/MakeNode.vue'\nimport BranchNode from '@/components/BranchNode.vue'\n//子コンポーネントの追加\nimport NodeSettings from '@/components/NodeSettings.vue'\nimport FaceImage from '@/components/FaceImage.vue'\nimport NodeField from '@/components/NodeField.vue'\nimport TopMenu from '@/components/TopMenu.vue'\n//ライブラリの追加\nimport VueSimpleContextMenu from 'vue-simple-context-menu';\nimport 'vue-simple-context-menu/dist/vue-simple-context-menu.css';\n\n//初期設定\n/* vue-flowの初期設定 */\nconst { onPaneReady, onConnect, onEdgesChange, onNodesChange, addEdges, addNodes, setTransform, toObject, project, } = useVueFlow()\nconst elements = ref(testInitialElements)\nconst nodeTypes = {\n  customMake: markRaw(MakeNode),\n  customBranch: markRaw(BranchNode),\n}\n/* storeの開始 */\nconst store = useStore()\n/* ノードの管理変数 */\nvar Skeys = [] //source\nvar edgeSNum = [] //sourceから見たedgeの重複 source:[id]\nvar makeNodeNum = {0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: []} //imgNum:[id]\n/* vue-simple-context-menuの初期設定 */\nconst options = [{name: \"Copy\", slug: \"copy\"}]\nconst vueContextMenu = ref(testInitialElements)\n\n\n/* vue-simple-context-menuの関数 */\nconst handleClick =  (event) => {\n  // overwrite readonly properties pageX and pageY and set correct values\n  Object.defineProperty(event, 'pageX', {\n    value: event.pageX - 350,\n    writable: true\n  })\n  Object.defineProperty(event, 'pageY', {\n    value: event.pageY - 100,\n    writable: true\n  })\n  vueContextMenu.value.showMenu(event)\n}\n//コンテキストメニューを呼び出す\nconst selectMenu = (params) => {\n  store.commit(\"setSelectNodeList\", params.nodes)\n}\n//コンテキストメニューのクリック\nconst optionClicked = () => {\n  var copyNode\n  var copyNodesData = store.state.selectnodeList\n  for(var s=0; s<copyNodesData.length; s++){\n    var copyNodeData = store.state.selectnodeList[s]\n    if(copyNodeData.type == 'input' || copyNodeData.type == 'output'){\n      //開始ノードか終了ノード\n      copyNode = {\n        id: ss_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n      }\n    }else{\n      copyNode = {\n        id: copyNodeData.type == 'customMake' ? m_getId() : b_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n        data: copyNodeData.data,\n      }\n    }\n    addNodes([copyNode])\n  }\n}\n\n/* 起動時の挙動 */\n//onPaneReadyは、viewpaneとノードに表示可能なディメンションがある場合に呼び出されます\nonPaneReady(({fitView}) => {\n  fitView()\n})\nconst onLoad = (flowInstance) => flowInstance.fitView()\n\n/* 対象のノードとエッジの調査 */\n//対象エッジと同じノードから出ているエッジの本数を返す(return)\nconst surveySameSource = (source) => {\n  if(Skeys.includes(source)){\n    var temp2 = edgeSNum[source]\n    return temp2.length\n  }else{\n    return 0\n  }\n}\n//対象エッジの追加/削除に伴うSkeysとedgeSNumの更新\nconst changeEdges = (edge, type) => {\n  //データ受け取り\n  var eid = edge.id\n  var source = edge.source\n  //Skeysの更新\n  Skeys = Object.keys(edgeSNum)\n  if(type == \"add\"){\n    if(Skeys.includes(source)){\n      edgeSNum[source].push(eid)\n    }else{\n      edgeSNum[source] = []\n      edgeSNum[source].push(eid)\n    }\n    Skeys = Object.keys(edgeSNum)\n  }else if(type == \"remove\"){\n    var sameEdgeSNum = edgeSNum[source]\n    if(sameEdgeSNum.length >= 2){\n      for(var j=0; j<sameEdgeSNum.length; j++){\n        if(sameEdgeSNum[j] == eid){\n          edgeSNum[source].splice(j, 1)\n        }\n      }\n    }else{\n      delete edgeSNum[source]\n      Skeys = Object.keys(edgeSNum)\n    }\n  }else if(type == \"change\"){\n    console.log(elements.value)\n  }else{\n    return\n  }\n}\n//対象メイクノードの追加/削除時のmakeNodeNumの値と表示イラストの更新\nconst changeMakeNodes = (nodeData) => {\n  if(nodeData.type == \"add\"){\n    makeNodeNum[nodeData.imgNum].push(nodeData.id)\n  }else if(nodeData.type == \"remove\"){\n    var lengthNum = makeNodeNum[nodeData.imgNum]\n    for(var n=0; n<lengthNum.length; n++){\n      if(lengthNum[n] == nodeData.id){\n        makeNodeNum[nodeData.imgNum].splice(n, 1)\n      }\n    }\n  }else{\n    return\n  }\n\n  //メイクノードの追加/削除に伴う表示イラストの更新\n  for(var l=0; l<Object.keys(makeNodeNum).length; l++){\n    var tempLengthNum = makeNodeNum[l]\n    if(tempLengthNum.length >= 1){\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: true})\n    }else{\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: false})\n    }\n  }\n}\n\n/* ノードの変更時に発火する関数 */\nonNodesChange((params) => {\n  for(var q=0; q<params.length; q++){\n    if(params[q].type == \"add\"){\n      //メイクノードだったら\n      if(params[q].item.type == \"customMake\"){\n        var nodeitems = params[q].item\n        var nodeData = nodeitems.data\n        //化粧工程の判定\n        if(nodeData.partNum == 1 && nodeData.itemNum == 8){\n          changeMakeNodes({imgNum: 0, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 1 && nodeData.itemNum == 8 && nodeData.typeNum == 2){\n          changeMakeNodes({imgNum: 1, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && nodeData.itemNum == 11){\n          changeMakeNodes({imgNum: 2, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && (13 <= nodeData.itemNum && nodeData.itemNum <= 16)){\n          changeMakeNodes({imgNum: 3, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && (17 <= nodeData.itemNum && nodeData.itemNum <= 20)){\n          changeMakeNodes({imgNum: 4, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 4 && nodeData.itemNum == 24){\n          changeMakeNodes({imgNum: 5, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 4 && nodeData.itemNum == 25){\n          changeMakeNodes({imgNum: 6, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 0 && nodeData.itemNum == 22){\n          changeMakeNodes({imgNum: 7, id: nodeitems.id, type: \"add\"})\n        }else{\n          return\n        }\n      }\n    }else if(params[q].type == \"remove\"){\n      //メイクノードだったら\n      if(params[q].id.indexOf('make') > -1){\n        elements.value.forEach((el) => {\n          if(isNode(el) && el.id == params[q].id){\n            if(el.data.partNum == 1 && el.data.itemNum == 8){\n              changeMakeNodes({imgNum: 0, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 1 && el.data.itemNum == 8 && el.data.typeNum == 2){\n              changeMakeNodes({imgNum: 1, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 2 && el.data.itemNum == 11){\n              changeMakeNodes({imgNum: 2, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 2 && (13 <= el.data.itemNum && el.data.itemNum <= 16)){\n              changeMakeNodes({imgNum: 3, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 2 && (17 <= el.data.itemNum && el.data.itemNum <= 20)){\n              changeMakeNodes({imgNum: 4, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 4 && el.data.itemNum == 24){\n              changeMakeNodes({imgNum: 5, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 4 && el.data.itemNum == 25){\n              changeMakeNodes({imgNum: 6, id: params[q].id, type: \"remove\"})\n            }else if(el.data.partNum == 0 && el.data.itemNum == 22){\n              changeMakeNodes({imgNum: 7, id: params[q].id, type: \"remove\"})\n            }else{\n              return\n            }\n          }\n        })\n      }\n    }else{\n      return\n    }\n  }\n})\n/* エッジの変更時に発火する関数 */\nonEdgesChange((params) => {\n  var NumOfSameSources\n  for(var i=0; i<params.length; i++){\n    if(params[i].type == \"add\"){\n     //追加するエッジと同じsourceのエッジが何本あるか調べる\n     NumOfSameSources = surveySameSource(params[i].item.source)\n     //エッジが現状で1本以上あったらエッジをsmoothstepに切り替える\n     if(NumOfSameSources >= 1){\n       elements.value.forEach((el) => {\n         if (isEdge(el) && el.source == params[i].item.source) {\n           el.type = \"smoothstep\"\n         }\n       })\n     }\n    }else if(params[i].type == \"remove\"){\n      var source\n      var edgeData\n      //消すエッジと同じsourceのエッジが何本あるか調べる\n      elements.value.forEach((el) => {\n        if (el.id == params[i].id) {\n          edgeData = el\n          source = el.source\n          NumOfSameSources = surveySameSource(source)\n        }\n      })\n      //エッジが現状で2本以下だったらエッジをstraightに切り替える\n      if(NumOfSameSources == 2){\n        elements.value.forEach((el) => {\n          if (isEdge(el) && el.source == source) {\n            el.type = \"straight\"\n          }\n        })\n        //edgeListの状態変更\n        changeEdges(edgeData, \"change\")\n      }\n    }else{\n      return\n    }\n  }\n})\n/* エッジの追加時に発火する関数 */\nonConnect((params) => {\n  console.log(\"エッジの追加\")\n  //追加するエッジをedgeSNumに追加して，同じソースのエッジの本数を取得する\n  var NumOfEdge\n  Skeys = Object.keys(edgeSNum)\n  if(Skeys.includes(params.source)){\n    edgeSNum[params.source].push(params.id)\n    NumOfEdge = surveySameSource(params.source) +1\n  }else{\n    edgeSNum[params.source] = []\n    edgeSNum[params.source].push(params.id)\n    NumOfEdge = 1\n    Skeys = Object.keys(edgeSNum)\n  }\n\n  //新しいエッジの追加\n  var newEdge\n  const getEdgeId = () => `e${params.source}_${params.target}`\n  if(params.source.indexOf('make') > -1){\n    //customMakeだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n      events: {\n        click: (event) => {\n          console.log(event.edge.label)\n        },\n      }\n    }\n  }else if(params.source.indexOf('branch') > -1){\n    //customBranchだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      label: edgeSNum%2 == 0 ? \"No\" : \"Yes\",\n      style: { stroke: 'red' },\n      labelStyle: { fill: 'white' },\n      labelBgStyle: { fill: edgeSNum%2 == 0 ? 'blue' : 'red' },\n      type: 'smoothstep',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n      events: {\n        click: (event) => {\n          console.log(event.edge.label)\n        },\n      }\n    }\n  }else{\n    //input/outputだったら\n    newEdge = {\n      id: getEdgeId(),\n      source: params.source,\n      target: params.target,\n      type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n      markerEnd: MarkerType.ArrowClosed,\n      updatable: true,\n    }\n  }\n  addEdges([newEdge])\n})\n\n/* マウス操作に結びつけた関数 */\n//ノードのドラッグ操作\nconst onDragOver = (event) => {\n  event.preventDefault()\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = 'move'\n  }\n}\n//ノードのドロップによる，新規ノードの追加\nlet id = 0\nconst ss_getId = () => `ss_${id++}`\nconst m_getId = () => `make_${id++}`\nconst b_getId = () => `branch_${id++}`\nconst onDrop = (event) => {\n  const type = event.dataTransfer?.getData('application/vueflow')\n  const position = project({ x: event.clientX - 400, y: event.clientY - 150 })\n  var newNode\n  if(type == 'input' || type == 'output'){\n    //開始ノードか終了ノード\n    newNode = {\n      id: ss_getId(), type, position,\n      label: type == 'input' ? `メイク開始` : `メイク終了`,\n    }\n  }else{\n    newNode = {\n      id: type == 'customMake' ? m_getId() : b_getId(),\n      type, position,\n      label: store.state.itemName+\"(\"+store.state.typeName+\")\",\n      data: {\n        partName: store.state.partName,\n        partNum: store.state.partNum,\n        itemName: store.state.itemName,\n        itemNum: store.state.itemNum,\n        typeName: store.state.typeName,\n        typeNum: store.state.typeNum,\n      }\n    }\n  }\n  addNodes([newNode])\n}\n\n/* vueFlow上のボタン操作 */\n//現在のviewpaneの変換 (ズームとパン) をリセット\nconst resetTrans = () => {\n  setTransform({ x: 0, y: 0, zoom: 1 })\n}\n//ノードの位置をランダムに更新\nconst updatePos = () => {\n  elements.value.forEach((el) => {\n    if (isNode(el)) {\n      el.position = {\n        x: Math.random() * 400,\n        y: Math.random() * 400,\n      }\n    }\n  })\n}\n//toObjectは、現在のグラフデータを簡単に永続化できるオブジェクトに変換\nconst logToObject = () => {\n  console.log(toObject())\n  this.$axios.post('../php/flowchart_post.php', {\n    params: {\n      userName: \"takano\" ,\n      flowchart: JSON.stringify(toObject()),\n    }\n  })\n  .then((response)=>{\n    //上手く行った時\n    console.log('status:',response.status)\n  }).catch((error)=>{\n    //失敗した時\n    console.log('err:',error)\n  })\n}\n//エッジのラベルの更新（仮）\nconst updateLabel = computed({\n  get: () => store.state.label,\n  set: (value) => store.commit(\"setLabel\", value)\n})\n</script>\n\n<template>\n  <TopMenu />\n  <div class=\"dndflow\" @drop=\"onDrop\">\n    <div class=\"sidemenu\">\n      <FaceImage />\n      <NodeSettings />\n      <NodeField />\n    </div>\n    <VueFlow\n      class=\"basicflow\" v-model=\"elements\"\n      :node-types=\"nodeTypes\" :default-zoom=\"1.2\" :min-zoom=\"0.2\" :max-zoom=\"4\"\n      :fit-view-on-init=\"true\" :snap-to-grid=\"true\" :connection-mode=\"ConnectionMode.Loose\"\n      @dragover=\"onDragOver\" @pane-ready=\"onLoad\" @selection-context-menu=\"selectMenu\"\n      @contextmenu.prevent.stop=\"handleClick($event)\"\n    >\n      <Background pattern-color=\"#000000\" gap=\"8\" />\n      <MiniMap />\n      <Controls />\n      <div class=\"controls\">\n        <button style=\"background-color: #191970; color: white;\" @click=\"resetTrans\">reset transform</button>\n        <button style=\"background-color: #8a2be2; color: white;\" @click=\"updatePos\">update positions</button>\n        <button @click=\"logToObject\">log toObject</button>\n      </div>\n      <div class=\"updateEdge__controls\">\n        <label>label:</label>\n        <input v-model=\"updateLabel\"/>\n        <button @click=\"onEdgeUpdate\">決定</button>\n      </div>\n      <!--カスタムノードの設定-->\n      <template #node-Make=\"props\">\n        <MakeNode v-bind=\"props\" />\n      </template>\n      <template #node-Branch=\"props\">\n        <BranchNode v-bind=\"props\" />\n      </template>\n      <!--context-menuの設定-->\n      <vue-simple-context-menu\n        element-id=\"myUniqueId\"\n        :options=\"options\"\n        ref=\"vueContextMenu\"\n        @option-clicked=\"optionClicked\"\n      />\n    </VueFlow>\n  </div>\n</template>\n\n<style>\n@import '../css/flowchart.css';\n</style>"]}]}