(function(e){function t(t){for(var a,i,s=t[0],l=t[1],u=t[2],b=0,m=[];b<s.length;b++)i=s[b],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);r&&r(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],a=!0,s=1;s<c.length;s++){var l=c[s];0!==n[l]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=c[0]))}return e}var a={},n={app:0},o=[];function i(t){if(a[t])return a[t].exports;var c=a[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=e,i.c=a,i.d=function(e,t,c){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(c,a,function(t){return e[t]}.bind(null,a));return c},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var r=l;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"092b":function(e,t,c){},"0ab6":function(e,t,c){},"16ca":function(e,t,c){"use strict";c("fdd6")},"1cee":function(e,t,c){},"281c":function(e,t,c){},"31ad":function(e,t,c){"use strict";c("98c2")},"33fd":function(e,t,c){},"395f":function(e,t,c){"use strict";c("092b")},4022:function(e,t,c){},"402c":function(e,t,c){"use strict";c("e77a")},4133:function(e,t,c){},"4adc":function(e,t,c){"use strict";c("281c")},"56d7":function(e,t,c){"use strict";c.r(t);var a=c("7a23");function n(e,t){const c=Object(a["O"])("router-view");return Object(a["I"])(),Object(a["d"])(c)}c("5e04");var o=c("6b0d"),i=c.n(o);const s={},l=i()(s,[["render",n]]);var u=l,r=c("6605"),b=c("5502"),m=c("bc3a"),d=c.n(m);const p={class:"home"},O=Object(a["g"])("h1",null,"化粧フローチャート作成実験",-1),j=Object(a["g"])("hr",null,null,-1),g={class:"description"},f=Object(a["i"])('<p id="desc-title">化粧フローチャート作成実験にご協力下さりありがとうございます．</p><p id="desc-check">詳細な実験手順は<a href="https://takano.nkmr.io/b4/description/" target="_blank">こちら</a>に記載してありますので，</p><p id="desc-check"><strong>説明を全て読んでから</strong>実験にご参加頂くようよろしくお願い致します．</p><div id="heading">注意事項</div><ul><table><tr><td><li>実験にはPCを用いて，ブラウザーをフルスクリーンの状態で行ってください．</li></td></tr><tr><td><li>ブラウザーのリロードボタン及び戻るボタンは押さないでください．</li></td></tr><tr><td><li>時間制限は無いため，適度に休憩を取りながらリラックスした状態で作成してください．</li></td></tr></table></ul><div id="heading"><a>問い合わせ先</a></div><ul id="none"><table><tr><td><li>氏名：髙野沙也香</li></td></tr><tr><td><li>メールアドレス：ev190535@meiji.ac.jp</li></td></tr></table></ul>',7),v={class:"login"},y=Object(a["g"])("div",{id:"heading"},"ログイン",-1),k={id:"none"},h=Object(a["g"])("tr",null,[Object(a["g"])("td",null,[Object(a["g"])("li",null,"お名前（漢字表記・姓名間にスペースなし）とパスワード（自由）を入力してください．")])],-1),N=Object(a["g"])("label",{for:"name"},"名前：",-1),T=Object(a["g"])("label",{for:"password",class:"password"},"パスワード：",-1),W=["disabled"];var w={__name:"Home",setup(e){const t=Object(a["L"])(""),c=Object(a["L"])(""),n=Object(b["b"])(),o=Object(r["c"])(),i=Object(a["b"])({get:()=>t.value,set:e=>{t.value=e}}),s=Object(a["b"])({get:()=>c.value,set:e=>{c.value=e}}),l=Object(a["b"])({get:()=>""==t.value||""==c.value,set:e=>{console.log(e)}}),u=()=>{const e=Math.floor(1e3+9e3*Math.random()),a=new URLSearchParams;a.append("userId",e),a.append("userName",t.value),a.append("userPass",c.value),d.a.post("https://takano.nkmr.io/flowchart_user_post.php",a).then(e=>{console.log("status:",e.status)}).catch(e=>{console.log("err:",e)}),n.commit("setUserData",{name:t.value,id:e}),console.log(n.state.userId),console.log(n.state.userName),o.push("/flowchart")};return(e,t)=>(Object(a["I"])(),Object(a["f"])("div",p,[O,j,Object(a["g"])("div",g,[f,Object(a["g"])("div",v,[y,Object(a["g"])("ul",k,[Object(a["g"])("table",null,[h,Object(a["g"])("tr",null,[Object(a["g"])("td",null,[N,Object(a["eb"])(Object(a["g"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>Object(a["t"])(i)?i.value=e:null)},null,512),[[a["ab"],Object(a["W"])(i)]]),T,Object(a["eb"])(Object(a["g"])("input",{type:"text",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>Object(a["t"])(s)?s.value=e:null)},null,512),[[a["ab"],Object(a["W"])(s)]]),Object(a["g"])("button",{onClick:u,disabled:Object(a["W"])(l),class:Object(a["x"])(Object(a["W"])(l)?"":"ableButton")},"ログイン",10,W)])])])])])])]))}};c("395f");const x=w;var I=x,_=c("7929");const M=[{id:"1",type:"input",label:"メイク開始",position:{x:250,y:5},class:"light"}],S={class:"node-makeup",style:{display:"flex"}},C=["src"],L={key:0,id:"title"},E={key:1,id:"title"};var P={__name:"MakeNode",props:{label:{type:String,required:!0},data:{required:!0}},setup(e){const t=e,c=["base","eyebrow","eye","nose","mouth"],n=t.label.split("(指定なし)");return(e,o)=>(Object(a["I"])(),Object(a["f"])("div",S,[Object(a["k"])(Object(a["W"])(_["d"]),{type:"target",position:Object(a["W"])(_["g"]).Top},null,8,["position"]),Object(a["g"])("img",{id:"icon",src:"https://takano.nkmr.io/b4/makeflowchart/img/icon/"+c[t.data.partNum]+".png"},null,8,C),t.label.includes("指定なし")?(Object(a["I"])(),Object(a["f"])("p",E,Object(a["T"])(Object(a["W"])(n)[0]+Object(a["W"])(n)[1]),1)):(Object(a["I"])(),Object(a["f"])("p",L,Object(a["T"])(t.label),1)),Object(a["k"])(Object(a["W"])(_["d"]),{type:"source",position:Object(a["W"])(_["g"]).Bottom},null,8,["position"])]))}};c("7517");const D=P;var U=D;const V={class:"motivation-node"},q=Object(a["g"])("div",{class:"mvdiamond"},[Object(a["g"])("div",{class:"mvdiamond-inner"},[Object(a["g"])("p",{id:"mvtitle"},"気合い")])],-1);var B={__name:"MotivationNode",setup(e){return(e,t)=>(Object(a["I"])(),Object(a["f"])("div",V,[Object(a["k"])(Object(a["W"])(_["d"]),{type:"target",position:Object(a["W"])(_["g"]).Top},null,8,["position"]),q,Object(a["k"])(Object(a["W"])(_["d"]),{type:"source",position:Object(a["W"])(_["g"]).Bottom},null,8,["position"])]))}};c("402c");const z=B;var F=z;const R={class:"season-node"},A=Object(a["g"])("div",{class:"sdiamond"},[Object(a["g"])("div",{class:"sdiamond-inner"},[Object(a["g"])("p",{id:"stitle"},"季節")])],-1);var J={__name:"SeasonNode",setup(e){return(e,t)=>(Object(a["I"])(),Object(a["f"])("div",R,[Object(a["k"])(Object(a["W"])(_["d"]),{type:"target",position:Object(a["W"])(_["g"]).Top},null,8,["position"]),A,Object(a["k"])(Object(a["W"])(_["d"]),{type:"source",position:Object(a["W"])(_["g"]).Bottom},null,8,["position"])]))}};c("4adc");const X=J;var Y=X;const Z={class:"time-node"},H=Object(a["g"])("div",{class:"tdiamond"},[Object(a["g"])("div",{class:"tdiamond-inner"},[Object(a["g"])("p",{id:"ttitle"},"外出時間")])],-1);var $={__name:"TimeNode",setup(e){return(e,t)=>(Object(a["I"])(),Object(a["f"])("div",Z,[Object(a["k"])(Object(a["W"])(_["d"]),{type:"target",position:Object(a["W"])(_["g"]).Top},null,8,["position"]),H,Object(a["k"])(Object(a["W"])(_["d"]),{type:"source",position:Object(a["W"])(_["g"]).Bottom},null,8,["position"])]))}};c("16ca");const G=$;var K=G;const Q={class:"selects"},ee={class:"box"},te=Object(a["g"])("p",null,"施術部位：",-1),ce=["value"],ae={class:"box"},ne=Object(a["g"])("p",null,"使用アイテム：",-1),oe=["value"],ie={class:"box"},se=Object(a["g"])("p",null,"タイプ(形状/色)：",-1),le=["value"],ue=["value"],re=["value"],be=["value"],me=["value"],de=["value"],pe=["value"],Oe=["value"],je=["value"],ge=["value"],fe=["value"];var ve={__name:"NodeSettings",setup(e){const t=["肌","眉","目","鼻","口"],c=["日焼け止め","化粧下地","コントロールカラー下地","ファンデーション","BBクリーム","CCクリーム","コンシーラー","フェイスパウダー","アイブロウ","スクリューブラシ","アイシャドウ下地","アイシャドウ","グリッター","アイライナー","ダブルライナー","二重ライナー","涙袋ライナー","ビューラー","ホットビューラー","マスカラ下地","マスカラ","コーム","チーク","リップクリーム","口紅","リップグロス","リップライナー","ハイライト","シェーディング","メイクキープミスト"],n=["指定なし"],o=["無色","色付き"],i=["イエロー","オレンジ","ピンク","グリーン","ブルー","パープル"],s=["パウダー","リキッド","クリーム","ジェル","クッション"],l=["ルース","プレスト"],u=["ペンシル","パウダー","マスカラ"],r=["パウダー","リキッド","クリーム","ジェル"],m=["リキッド","ペンシル","ジェル"],d=["パウダー","クリーム","ジェル"],p=["パウダー","リキッド","クリーム","スティック"],O=["パウダー","リキッド","クリーム","スティック"];let j=Object(a["L"])(0),g=Object(a["L"])(0),f=Object(a["L"])(0);const v=Object(b["b"])(),y=Object(a["b"])({get:()=>j.value,set:e=>{j.value=e,v.commit("setPart",{num:e,name:t[e]})}}),k=Object(a["b"])({get:()=>g.value,set(e){g.value=e,v.commit("setItem",{num:e,name:c[e]}),f.value=0,0==e?v.commit("setType",{num:0,name:o[0]}):2==e||5==e?v.commit("setType",{num:0,name:i[0]}):3==e?v.commit("setType",{num:0,name:s[0]}):7==e?v.commit("setType",{num:0,name:l[0]}):8==e?v.commit("setType",{num:0,name:u[0]}):11==e?v.commit("setType",{num:0,name:r[0]}):13==e?v.commit("setType",{num:0,name:m[0]}):22==e?v.commit("setType",{num:0,name:d[0]}):27==e?v.commit("setType",{num:0,name:p[0]}):28==e?v.commit("setType",{num:0,name:O[0]}):v.commit("setType",{num:0,name:"指定なし"})}}),h=Object(a["b"])({get:()=>f.value,set(e){f.value=e,0==g.value?v.commit("setType",{num:e,name:o[e]}):2==g.value||5==g.value?v.commit("setType",{num:e,name:i[e]}):3==g.value?v.commit("setType",{num:e,name:s[e]}):7==g.value?v.commit("setType",{num:e,name:l[e]}):8==g.value?v.commit("setType",{num:e,name:u[e]}):11==g.value?v.commit("setType",{num:e,name:r[e]}):13==g.value?v.commit("setType",{num:e,name:m[e]}):22==g.value?v.commit("setType",{num:e,name:d[e]}):27==g.value?v.commit("setType",{num:e,name:p[e]}):28==g.value?v.commit("setType",{num:e,name:O[e]}):v.commit("setType",{num:0,name:"指定なし"})}});return(e,b)=>(Object(a["I"])(),Object(a["f"])("div",Q,[Object(a["g"])("div",ee,[te,Object(a["eb"])(Object(a["g"])("select",{name:"parts","onUpdate:modelValue":b[0]||(b[0]=e=>Object(a["t"])(y)?y.value=e:null),style:{"margin-left":"34px"}},[(Object(a["I"])(),Object(a["f"])(a["a"],null,Object(a["M"])(t,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,ce)),64))],512),[[a["Z"],Object(a["W"])(y)]])]),Object(a["g"])("div",ae,[ne,Object(a["eb"])(Object(a["g"])("select",{name:"items","onUpdate:modelValue":b[1]||(b[1]=e=>Object(a["t"])(k)?k.value=e:null),style:{"margin-left":"12px"}},[(Object(a["I"])(),Object(a["f"])(a["a"],null,Object(a["M"])(c,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,oe)),64))],512),[[a["Z"],Object(a["W"])(k)]])]),Object(a["g"])("div",ie,[se,Object(a["eb"])(Object(a["g"])("select",{name:"types","onUpdate:modelValue":b[2]||(b[2]=e=>Object(a["t"])(h)?h.value=e:null)},[0==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:0},Object(a["M"])(o,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,le)),64)):2==Object(a["W"])(g)||5==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:1},Object(a["M"])(i,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,ue)),64)):3==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:2},Object(a["M"])(s,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,re)),64)):7==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:3},Object(a["M"])(l,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,be)),64)):8==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:4},Object(a["M"])(u,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,me)),64)):11==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:5},Object(a["M"])(r,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,de)),64)):13==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:6},Object(a["M"])(m,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,pe)),64)):22==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:7},Object(a["M"])(d,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,Oe)),64)):27==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:8},Object(a["M"])(p,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,je)),64)):28==Object(a["W"])(g)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:9},Object(a["M"])(O,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,ge)),64)):(Object(a["I"])(),Object(a["f"])(a["a"],{key:10},Object(a["M"])(n,(e,t)=>Object(a["g"])("option",{key:t,value:t},Object(a["T"])(e),9,fe)),64))],512),[[a["Z"],Object(a["W"])(h)]])])]))}};c("72d5");const ye=ve;var ke=ye;const he={class:"face-image",style:{"pointer-events":"none"}},Ne={class:"image-area"},Te=Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/base.png"},null,-1);var We={__name:"FaceImage",setup(e){const t=Object(b["b"])(),c=Object(a["b"])(()=>t.state.makenodeList);return(e,t)=>(Object(a["I"])(),Object(a["f"])("div",he,[Object(a["g"])("div",Ne,[Te,Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/eyebrow.png",class:Object(a["x"])(Object(a["W"])(c)[0]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/eyebrowmascara.png",class:Object(a["x"])(Object(a["W"])(c)[1]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/eyeshadow.png",class:Object(a["x"])(Object(a["W"])(c)[2]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/eyeliner.png",class:Object(a["x"])(Object(a["W"])(c)[3]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/buehlerandmascara.png",class:Object(a["x"])(Object(a["W"])(c)[4]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/rip.png",class:Object(a["x"])(Object(a["W"])(c)[5]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/gross.png",class:Object(a["x"])(Object(a["W"])(c)[6]?"visible1":"hidden1")},null,2),Object(a["g"])("img",{src:"https://takano.nkmr.io/b4/makeflowchart/img/face/cheek.png",class:Object(a["x"])(Object(a["W"])(c)[7]?"visible1":"hidden1")},null,2)])]))}};c("aa61");const we=We;var xe=we,Ie=c("5c40");const _e={class:"nodes"},Me=["src"],Se={key:0,id:"m-title"},Ce={key:1,id:"m-title"},Le={key:1,id:"m-title"},Ee=Object(a["g"])("div",{class:"mv-diamond"},[Object(a["g"])("div",{class:"mv-diamond-inner"},[Object(a["g"])("p",{id:"mv-title"},"気合い")])],-1),Pe=[Ee],De=Object(a["g"])("div",{class:"s-diamond"},[Object(a["g"])("div",{class:"s-diamond-inner"},[Object(a["g"])("p",{id:"s-title"},"季節")])],-1),Ue=[De],Ve=Object(a["g"])("div",{class:"t-diamond"},[Object(a["g"])("div",{class:"t-diamond-inner"},[Object(a["g"])("p",{id:"t-title"},"外出時間")])],-1),qe=[Ve];var Be={__name:"NodeField",setup(e){const t=["base","eyebrow","eye","nose","mouth"],c=Object(b["b"])(),n=(e,t,c)=>{e.dataTransfer&&(e.dataTransfer.setData("application/vueflow",t,c),e.dataTransfer.effectAllowed="move")},o=Object(Ie["e"])(()=>c.state.partNum),i=Object(Ie["e"])(()=>c.state.itemName),s=Object(Ie["e"])(()=>c.state.typeName);return(e,c)=>(Object(a["I"])(),Object(a["f"])("aside",null,[Object(a["g"])("div",_e,[Object(a["g"])("div",{class:"makeup-node",style:{display:"flex"},draggable:!0,onDragstart:c[0]||(c[0]=e=>n(e,"customMake"))},[Object(a["g"])("img",{id:"m-icon",src:"https://takano.nkmr.io/b4/makeflowchart/img/icon/"+t[Object(a["W"])(o)]+".png"},null,8,Me),"指定なし"!=Object(a["W"])(s)?(Object(a["I"])(),Object(a["f"])(a["a"],{key:0},[Object(a["W"])(i).length>=7?(Object(a["I"])(),Object(a["f"])("p",Se,Object(a["T"])(Object(a["W"])(i)+"\n("+Object(a["W"])(s)+")"),1)):(Object(a["I"])(),Object(a["f"])("p",Ce,Object(a["T"])(Object(a["W"])(i)+"("+Object(a["W"])(s)+")"),1))],64)):(Object(a["I"])(),Object(a["f"])("p",Le,Object(a["T"])(Object(a["W"])(i)),1))],32),Object(a["g"])("div",{class:"vue-flow__node-input",draggable:!0,onDragstart:c[1]||(c[1]=e=>n(e,"input"))},"メイク開始",32),Object(a["g"])("div",{class:"vue-flow__node-output",draggable:!0,onDragstart:c[2]||(c[2]=e=>n(e,"output"))},"メイク終了",32),Object(a["g"])("div",{class:"mvbranch-node",draggable:!0,onDragstart:c[3]||(c[3]=e=>n(e,"customMotivation"))},Pe,32),Object(a["g"])("div",{class:"sbranch-node",draggable:!0,onDragstart:c[4]||(c[4]=e=>n(e,"customSeason"))},Ue,32),Object(a["g"])("div",{class:"tbranch-node",draggable:!0,onDragstart:c[5]||(c[5]=e=>n(e,"customTime"))},qe,32)])]))}};c("d449");const ze=Be;var Fe=ze;const Re={class:"topmenu"},Ae={class:"leftside"},Je={class:"stepicon"},Xe={id:"circle"},Ye=Object(a["g"])("div",{id:"step"},"STEP",-1),Ze=["textContent"],He={class:"rightside"};var $e={__name:"TopMenu",emits:["checkTurn1","submitObject"],setup(e,{emit:t}){const c=Object(b["b"])(),n=["コロナ禍でない時（マスク非着用時）の自身の理想の化粧フローチャートを作成してください．\nなお，化粧にかけられる時間が十分にあるとします．","化粧にかけられる時間が短い時に飛ばす工程をクリックしてください．\n飛ばす工程が無ければ右上にある「次へ」ボタンを押してください．","化粧をする時に，やろうと思ったのについ忘れてしまう工程をクリックしてください．\n忘れる工程が無ければ右上にある「終わり」ボタンを押してください．"],o=Object(a["b"])(()=>c.state.turn),i=()=>{c.state.turn>1&&c.commit("setTurn",-1)},s=()=>{1==c.state.turn&&t("checkTurn1"),c.state.inputN&&c.state.outputN&&c.commit("setTurn",1)},l=()=>{t("submitObject")};return(e,t)=>(Object(a["I"])(),Object(a["f"])("div",Re,[Object(a["g"])("div",Ae,[Object(a["g"])("div",Je,[Object(a["g"])("div",Xe,Object(a["T"])(Object(a["W"])(o)),1),Ye]),Object(a["g"])("label",{id:"description",textContent:Object(a["T"])(n[Object(a["W"])(o)-1])},null,8,Ze)]),Object(a["g"])("div",He,[Object(a["W"])(o)>1?(Object(a["I"])(),Object(a["f"])("button",{key:0,class:"button-68",role:"button",onClick:i},"戻る")):Object(a["e"])("",!0),Object(a["W"])(o)<3?(Object(a["I"])(),Object(a["f"])("button",{key:1,class:"button-68",role:"button",onClick:s},"次へ")):(Object(a["I"])(),Object(a["f"])("button",{key:2,class:"button-68",role:"button",onClick:l},"終わり"))])]))}};c("66b4");const Ge=$e;var Ke=Ge,Qe=c("2560"),et=c("e774");const tt={class:"sidemenu"};var ct={__name:"Flowchart",setup(e){const{onPaneReady:t,onConnect:c,onEdgesChange:n,onNodesChange:o,addEdges:i,addNodes:s,toObject:l,project:u,getNode:m,getEdge:p}=Object(_["k"])(),O=Object(a["L"])(M),j={customMake:Object(a["u"])(U),customMotivation:Object(a["u"])(F),customSeason:Object(a["u"])(Y),customTime:Object(a["u"])(K)},g=Object(b["b"])(),f=Object(r["c"])();var v=[],y=[],k={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[]};const h=[{name:"Copy",slug:"copy"}],N=Object(a["L"])(M),T=e=>{Object.defineProperty(e,"pageX",{value:e.pageX-350,writable:!0}),Object.defineProperty(e,"pageY",{value:e.pageY-100,writable:!0}),N.value.showMenu(e)},W=e=>{g.commit("setSelectNodeList",e.nodes)},w=()=>{for(var e,t=g.state.selectnodeList,c=0;c<t.length;c++){var a=g.state.selectnodeList[c];e="input"==a.type||"output"==a.type?{id:D(),type:a.type,position:u({x:a.position.x+100,y:a.position.y+100}),label:a.label}:"customMake"==a.type?{id:V(),type:a.type,position:u({x:a.position.x+100,y:a.position.y+100}),label:a.label,style:a.style,data:a.data}:{id:"customMotivation"==a.type?q():"customSeason"==a.type?B():z(),type:a.type,position:u({x:a.position.x+100,y:a.position.y+100}),label:a.label,style:a.style},s([e])}};t(({fitView:e})=>{e()});const x=e=>e.fitView(),I=e=>{if(v.includes(e)){var t=y[e];return t.length}return 0},S=(e,t)=>{var c=e.id,a=e.source;if(v=Object.keys(y),"add"==t)console.log("edgeSNumの更新(追加)"),v.includes(a)?y[a].push(c):(y[a]=[],y[a].push(c),v=Object.keys(y));else if("remove"==t){console.log("edgeSNumの更新(削除)");var n=y[a];if(n.length>=2)for(var o=0;o<n.length;o++)n[o]==c&&y[a].splice(o,1);else delete y[a],v=Object.keys(y)}else{if("change"!=t)return;console.log("edgeSNumの更新(変更)")}},C=e=>{if("add"==e.type)k[e.imgNum].push(e.id);else{if("remove"!=e.type)return;for(var t=k[e.imgNum],c=0;c<t.length;c++)t[c]==e.id&&k[e.imgNum].splice(c,1)}for(var a=0;a<Object.keys(k).length;a++){var n=k[a];n.length>=1?g.commit("setMakeNodeList",{imgNum:a,imgState:!0}):g.commit("setMakeNodeList",{imgNum:a,imgState:!1})}},L=()=>{var e=!1,t=!1;O.value.forEach(c=>{Object(_["j"])(c)&&("input"==c.type?e=!0:"output"==c.type&&(t=!0))}),g.commit("setInOutput",{input:e,output:t}),g.state.inputN&&g.state.outputN||alert("メイク開始・終了ノードを設置してください．")};o(e=>{for(var t=0;t<e.length;t++)if("add"==e[t].type){if(console.log("ノードの追加"),"customMake"==e[t].item.type){var c=e[t].item,a=c.data;if(1==a.partNum&&8==a.itemNum)C({imgNum:0,id:c.id,type:"add"});else if(1==a.partNum&&8==a.itemNum&&2==a.typeNum)C({imgNum:1,id:c.id,type:"add"});else if(2==a.partNum&&11==a.itemNum)C({imgNum:2,id:c.id,type:"add"});else if(2==a.partNum&&13<=a.itemNum&&a.itemNum<=16)C({imgNum:3,id:c.id,type:"add"});else if(2==a.partNum&&17<=a.itemNum&&a.itemNum<=20)C({imgNum:4,id:c.id,type:"add"});else if(4==a.partNum&&24==a.itemNum)C({imgNum:5,id:c.id,type:"add"});else if(4==a.partNum&&25==a.itemNum)C({imgNum:6,id:c.id,type:"add"});else{if(0!=a.partNum||22!=a.itemNum)return;C({imgNum:7,id:c.id,type:"add"})}}}else if("remove"==e[t].type){if(console.log("ノードの削除"),e[t].id.indexOf("make")>-1){const c=m.value(e[t].id),a=c.data;if(1==a.partNum&&8==a.itemNum)C({imgNum:0,id:e[t].id,type:"remove"});else if(1==a.partNum&&8==a.itemNum&&2==a.typeNum)C({imgNum:1,id:e[t].id,type:"remove"});else if(2==a.partNum&&11==a.itemNum)C({imgNum:2,id:e[t].id,type:"remove"});else if(2==a.partNum&&13<=a.itemNum&&a.itemNum<=16)C({imgNum:3,id:e[t].id,type:"remove"});else if(2==a.partNum&&17<=a.itemNum&&a.itemNum<=20)C({imgNum:4,id:e[t].id,type:"remove"});else if(4==a.partNum&&24==a.itemNum)C({imgNum:5,id:e[t].id,type:"remove"});else if(4==a.partNum&&25==a.itemNum)C({imgNum:6,id:e[t].id,type:"remove"});else{if(0!=a.partNum||22!=a.itemNum)return;C({imgNum:7,id:e[t].id,type:"remove"})}}}else{if("select"!=e[t].type)return;var n;(e[t].id.indexOf("make")>-1||e[t].id.indexOf("branch")>-1)&&(n=m.value(e[t].id),e[t].selected?n.style["--vf-node-color"]="#3cb371":n.style["--vf-node-color"]="black"),2==g.state.turn?e[t].id.indexOf("make")>-1&&e[t].selected&&(n.data["skip"]?(n.style["--vf-node-text"]="black",n.data["skip"]=!1):(n.style["--vf-node-text"]="#ff8c00",n.data["skip"]=!0)):3==g.state.turn&&e[t].id.indexOf("make")>-1&&e[t].selected&&(n.data["forget"]?(n.style["--vf-node-bg"]="white",n.data["forget"]=!1):(n.style["--vf-node-bg"]="pink",n.data["forget"]=!0))}}),n(e=>{for(var t,c=0;c<e.length;c++)if("add"==e[c].type){var a=e[c].item;v=Object.keys(y),v.includes(a.source)?y[a.source].push(a.id):(y[a.source]=[],y[a.source].push(a.id),v=Object.keys(y)),t=I(a.source),t>=1&&O.value.forEach(e=>{Object(_["i"])(e)&&e.source==a.source&&(e.type="smoothstep")})}else if("remove"==e[c].type){var n,o;O.value.forEach(a=>{a.id==e[c].id&&(o=a,n=a.source,t=I(n))}),2==t&&O.value.forEach(e=>{Object(_["i"])(e)&&e.source==n&&(e.type="straight")}),S(o,"remove")}else{if("select"!=e[c].type)return;var i=p.value(e[c].id);e[c].selected?(i.animated=!0,2==g.state.turn&&g.commit("setEdgeId",e[c].id)):(i.animated=!1,2==g.state.turn&&g.commit("setEdgeId",""))}}),c(e=>{var t,c;console.log("エッジの追加"),v=Object.keys(y),t=v.includes(e.source)?I(e.source)+1:1;const a=()=>`e${e.source}_${e.target}`;if(t<3){if(e.source.indexOf("make")>-1){if(!(t<2))return void alert("1つの化粧ノードから出せる矢印は1本だけです.追加で分岐させたい場合は分岐ノードを繋げてください");c={id:a(),source:e.source,target:e.target,type:"straight",style:{stroke:"black"},markerEnd:_["e"].ArrowClosed,animated:!1}}else if(e.source.indexOf("branch")>-1){var n,o,s;e.source.indexOf("mvbranch")>-1?(n=t%2==0?"なし":"あり",o=t%2==0?"blue":"red",s=t%2==0?"no":"max"):e.source.indexOf("sbranch")>-1?(n=t%2==0?"冬":"夏",o=t%2==0?"gray":"blue",s=t%2==0?"winter":"summer"):(n=t%2==0?"短い":"長い",o=t%2==0?"blue":"red",s=t%2==0?"short":"long"),c={id:a(),source:e.source,target:e.target,type:t>1?"smoothstep":"straight",label:n,style:{stroke:o},labelStyle:{fill:"white"},labelBgStyle:{fill:o},markerEnd:_["e"].ArrowClosed,animated:!1,data:{type:s}}}else{if(!(t<2))return void alert("1つのメイク開始/終了ノードから出せる矢印は1本だけです.追加で分岐させたい場合は分岐ノードを繋げてください");c={id:a(),source:e.source,target:e.target,type:"straight",style:{stroke:"black"},markerEnd:_["e"].ArrowClosed,animated:!1}}i([c])}else alert("1つのノードから出せる矢印は2本までです.追加で分岐させたい場合は分岐ノードを繋げてください")});const E=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")};let P=0;const D=()=>"ss_"+P++,V=()=>"make_"+P++,q=()=>"mvbranch_"+P++,B=()=>"sbranch_"+P++,z=()=>"tbranch_"+P++,R=e=>{var t;const c=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("application/vueflow"),a=u({x:e.clientX-400,y:e.clientY-150});var n;if("input"==c||"output"==c)n={id:D(),type:c,position:a,label:"input"==c?"メイク開始":"メイク終了"};else if("customMake"==c)n={id:V(),type:c,position:a,label:g.state.itemName.length>=7?g.state.itemName+"\n("+g.state.typeName+")":g.state.itemName+"("+g.state.typeName+")",style:{"--vf-node-color":"black"},data:{partName:g.state.partName,partNum:g.state.partNum,itemName:g.state.itemName,itemNum:g.state.itemNum,typeName:g.state.typeName,typeNum:g.state.typeNum,skip:!1,forget:!1}};else{var o,i;"customMotivation"==c?(o="気合い",i=q()):"customSeason"==c?(o="季節",i=B()):(o="外出時間",i=z()),n={id:i,type:c,position:a,label:o,style:{"--vf-node-color":"black"}}}s([n])},A=()=>{console.log("データのmysqlへの送信&実験終了");const e=new URLSearchParams;e.append("userId",g.state.userId),e.append("userName",g.state.userName),e.append("flowchart",JSON.stringify(l())),d.a.post("https://takano.nkmr.io/flowchart_post.php",e).then(e=>{console.log("status:",e.status)}).catch(e=>{console.log("err:",e)});const t=g.state.userName+".json",c=JSON.stringify(l()),a=document.createElement("a");a.href="data:text/plain,"+encodeURIComponent(c),a.download=t,a.click(),et["a"](document.querySelector(".vue-flow__container")).then((function(e){const t=document.createElement("a");t.download=g.state.userName+".svg",t.href=e,t.click()})),setTimeout((function(){f.push("/finish")}),1e3)};return(e,t)=>(Object(a["I"])(),Object(a["f"])(a["a"],null,[Object(a["k"])(Ke,{onSubmitObject:A,onCheckTurn1:L}),Object(a["g"])("div",{class:"dndflow",onDrop:R},[Object(a["g"])("div",tt,[Object(a["k"])(xe),Object(a["k"])(ke),Object(a["k"])(Fe)]),Object(a["k"])(Object(a["W"])(_["h"]),{class:"basicflow",modelValue:O.value,"onUpdate:modelValue":t[0]||(t[0]=e=>O.value=e),"node-types":j,"default-zoom":1.5,"min-zoom":.2,"max-zoom":4,"fit-view-on-init":!0,"snap-to-grid":!0,"connection-mode":Object(a["W"])(_["b"]).Loose,onDragover:E,onPaneReady:x,onSelectionContextMenu:W,onContextmenu:t[1]||(t[1]=Object(a["fb"])(e=>T(e),["prevent","stop"]))},{"node-Make":Object(a["db"])(e=>[Object(a["k"])(U,Object(a["y"])(Object(a["q"])(e)),null,16)]),"node-Motivation":Object(a["db"])(e=>[Object(a["k"])(F,Object(a["y"])(Object(a["q"])(e)),null,16)]),"node-Season":Object(a["db"])(e=>[Object(a["k"])(Y,Object(a["y"])(Object(a["q"])(e)),null,16)]),"node-Time":Object(a["db"])(e=>[Object(a["k"])(K,Object(a["y"])(Object(a["q"])(e)),null,16)]),default:Object(a["db"])(()=>[Object(a["k"])(Object(a["W"])(_["a"]),{"pattern-color":"#000000",gap:"8"}),Object(a["k"])(Object(a["W"])(_["f"])),Object(a["k"])(Object(a["W"])(_["c"])),Object(a["k"])(Object(a["W"])(Qe["a"]),{"element-id":"myUniqueId",options:h,ref_key:"vueContextMenu",ref:N,onOptionClicked:w},null,512)]),_:1},8,["modelValue","default-zoom","min-zoom","connection-mode"])],32)],64))}};c("31ad");const at=ct;var nt=at;const ot={class:"finish"},it=Object(a["g"])("h1",null,"化粧フローチャート作成実験",-1),st=Object(a["g"])("hr",null,null,-1),lt=Object(a["g"])("div",{class:"comment"},[Object(a["g"])("p",null,"化粧フローチャート作成実験にご協力頂きありがとうございました．"),Object(a["g"])("p",null,[Object(a["j"])("実験はこちらで終了となります．"),Object(a["g"])("a",{href:"https://forms.gle/22CEWSrk5ELoa8cs5",target:"_blank"},"こちら"),Object(a["j"])("から実験後アンケートへの回答をお願い致します．")])],-1),ut=[it,st,lt];function rt(e,t){return Object(a["I"])(),Object(a["f"])("div",ot,ut)}c("d23f");const bt={},mt=i()(bt,[["render",rt]]);var dt=mt;const pt=[{path:"/",name:"Home",component:I},{path:"/flowchart",name:"Flowchart",component:nt},{path:"/finish",name:"Finish",component:dt}],Ot=Object(r["a"])({history:Object(r["b"])(),routes:pt});var jt=Ot,gt=Object(b["a"])({state:{userName:"",userId:"",turn:1,outputN:!1,inputN:!1,partNum:0,partName:"肌",itemNum:0,itemName:"日焼け止め",typeNum:0,typeName:"無色",makenodeList:[!1,!1,!1,!1,!1,!1,!1,!1,!1],selectnodeList:[]},mutations:{setUserData:function(e,t){e.userName=t.name,e.userId=t.id},setTurn:function(e,t){e.turn=e.turn+t},setInOutput:function(e,t){e.inputN=t.input,e.outputN=t.output},setPart:function(e,t){e.partNum=t.num,e.partName=t.name},setItem:function(e,t){e.itemNum=t.num,e.itemName=t.name},setType:function(e,t){e.typeNum=t.num,e.typeName=t.name},setMakeNodeList:function(e,t){e.makenodeList[t.imgNum]=t.imgState},setSelectNodeList:function(e,t){e.selectnodeList=t}},actions:{},modules:{}});Object(a["c"])(u).use(gt).use(jt).mount("#app")},"5e04":function(e,t,c){"use strict";c("4133")},"66b4":function(e,t,c){"use strict";c("6ecc")},"6ecc":function(e,t,c){},"72d5":function(e,t,c){"use strict";c("8ccf")},7517:function(e,t,c){"use strict";c("4022")},"8ccf":function(e,t,c){},"98c2":function(e,t,c){},aa61:function(e,t,c){"use strict";c("0ab6")},d23f:function(e,t,c){"use strict";c("33fd")},d449:function(e,t,c){"use strict";c("1cee")},e77a:function(e,t,c){},fdd6:function(e,t,c){}});
//# sourceMappingURL=app.ff5a5ac3.js.map